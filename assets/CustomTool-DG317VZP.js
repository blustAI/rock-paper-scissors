import{r as v,_ as ae,e as Qe,f as Ct,g as at,h as on,i as c,l as x,m as ye,p as we,q as ke,s as W,t as Ee,v as _e,w as wt,y as Re,G as sn,z as jt,C as an,D as $e,E as ct,F as ln,I as cn,J as un,K as dn,L as Et,N as pn,B as Ae,O as fn,P as hn,Q as Je,U as gn,V as mn,W as We,X as vn,c as lt,A as ot,Y as Fe,Z as bn,a0 as yn,a1 as $t}from"./index-JQIzhxEJ.js";function Rt({controlled:e,default:t,name:n,state:o="value"}){const{current:a}=v.useRef(e!==void 0),[u,i]=v.useState(t),f=a?e:u,g=v.useCallback(O=>{a||i(O)},[]);return[f,g]}const Sn=["onChange","maxRows","minRows","style","value"];function Xe(e){return parseInt(e,10)||0}const xn={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Cn(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const wn=v.forwardRef(function(t,n){const{onChange:o,maxRows:a,minRows:u=1,style:i,value:f}=t,g=ae(t,Sn),{current:O}=v.useRef(f!=null),R=v.useRef(null),C=Qe(n,R),h=v.useRef(null),l=v.useCallback(()=>{const d=R.current,m=Ct(d).getComputedStyle(d);if(m.width==="0px")return{outerHeightStyle:0,overflowing:!1};const y=h.current;y.style.width=m.width,y.value=d.value||t.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const S=m.boxSizing,A=Xe(m.paddingBottom)+Xe(m.paddingTop),k=Xe(m.borderBottomWidth)+Xe(m.borderTopWidth),w=y.scrollHeight;y.value="x";const _=y.scrollHeight;let U=w;u&&(U=Math.max(Number(u)*_,U)),a&&(U=Math.min(Number(a)*_,U)),U=Math.max(U,_);const H=U+(S==="border-box"?A+k:0),J=Math.abs(U-w)<=1;return{outerHeightStyle:H,overflowing:J}},[a,u,t.placeholder]),r=v.useCallback(()=>{const d=l();if(Cn(d))return;const p=R.current;p.style.height=`${d.outerHeightStyle}px`,p.style.overflow=d.overflowing?"hidden":""},[l]);at(()=>{const d=()=>{r()};let p;const m=on(d),y=R.current,S=Ct(y);S.addEventListener("resize",m);let A;return typeof ResizeObserver<"u"&&(A=new ResizeObserver(d),A.observe(y)),()=>{m.clear(),cancelAnimationFrame(p),S.removeEventListener("resize",m),A&&A.disconnect()}},[l,r]),at(()=>{r()});const s=d=>{O||r(),o&&o(d)};return c.jsxs(v.Fragment,{children:[c.jsx("textarea",x({value:f,onChange:s,ref:C,rows:u,style:i},g)),c.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:h,tabIndex:-1,style:x({},xn.shadow,i,{paddingTop:0,paddingBottom:0})})]})});function ut({props:e,states:t,muiFormControl:n}){return t.reduce((o,a)=>(o[a]=e[a],n&&typeof e[a]>"u"&&(o[a]=n[a]),o),{})}const Rn=v.createContext(void 0),Lt=Rn;function dt(){return v.useContext(Lt)}function Tt(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Nt(e,t=!1){return e&&(Tt(e.value)&&e.value!==""||t&&Tt(e.defaultValue)&&e.defaultValue!=="")}function Tn(e){return we("MuiInputBase",e)}const Mn=ye("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ze=Mn,In=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Ye=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${ke(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Ze=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Pn=e=>{const{classes:t,color:n,disabled:o,error:a,endAdornment:u,focused:i,formControl:f,fullWidth:g,hiddenLabel:O,multiline:R,readOnly:C,size:h,startAdornment:l,type:r}=e,s={root:["root",`color${ke(n)}`,o&&"disabled",a&&"error",g&&"fullWidth",i&&"focused",f&&"formControl",h&&h!=="medium"&&`size${ke(h)}`,R&&"multiline",l&&"adornedStart",u&&"adornedEnd",O&&"hiddenLabel",C&&"readOnly"],input:["input",o&&"disabled",r==="search"&&"inputTypeSearch",R&&"inputMultiline",h==="small"&&"inputSizeSmall",O&&"inputHiddenLabel",l&&"inputAdornedStart",u&&"inputAdornedEnd",C&&"readOnly"]};return Re(s,Tn,t)},et=W("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ye})(({theme:e,ownerState:t})=>x({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ze.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&x({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),tt=W("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ze})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",o=x({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),a={opacity:"0 !important"},u=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return x({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ze.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u},[`&.${ze.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),On=c.jsx(sn,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),kn=v.forwardRef(function(t,n){var o;const a=Ee({props:t,name:"MuiInputBase"}),{"aria-describedby":u,autoComplete:i,autoFocus:f,className:g,components:O={},componentsProps:R={},defaultValue:C,disabled:h,disableInjectingGlobalStyles:l,endAdornment:r,fullWidth:s=!1,id:d,inputComponent:p="input",inputProps:m={},inputRef:y,maxRows:S,minRows:A,multiline:k=!1,name:w,onBlur:_,onChange:U,onClick:H,onFocus:J,onKeyDown:b,onKeyUp:M,placeholder:I,readOnly:$,renderSuffix:B,rows:E,slotProps:j={},slots:V={},startAdornment:q,type:ee="text",value:te}=a,re=ae(a,In),Z=m.value!=null?m.value:te,{current:ce}=v.useRef(Z!=null),ne=v.useRef(),Te=v.useCallback(D=>{},[]),pe=Qe(ne,y,m.ref,Te),[ue,fe]=v.useState(!1),z=dt(),G=ut({props:a,muiFormControl:z,states:["color","disabled","error","hiddenLabel","size","required","filled"]});G.focused=z?z.focused:ue,v.useEffect(()=>{!z&&h&&ue&&(fe(!1),_&&_())},[z,h,ue,_]);const T=z&&z.onFilled,K=z&&z.onEmpty,F=v.useCallback(D=>{Nt(D)?T&&T():K&&K()},[T,K]);at(()=>{ce&&F({value:Z})},[Z,F,ce]);const Q=D=>{if(G.disabled){D.stopPropagation();return}J&&J(D),m.onFocus&&m.onFocus(D),z&&z.onFocus?z.onFocus(D):fe(!0)},he=D=>{_&&_(D),m.onBlur&&m.onBlur(D),z&&z.onBlur?z.onBlur(D):fe(!1)},Le=(D,...ve)=>{if(!ce){const be=D.target||ne.current;if(be==null)throw new Error(jt(1));F({value:be.value})}m.onChange&&m.onChange(D,...ve),U&&U(D,...ve)};v.useEffect(()=>{F(ne.current)},[]);const Se=D=>{ne.current&&D.currentTarget===D.target&&ne.current.focus(),H&&H(D)};let Me=p,X=m;k&&Me==="input"&&(E?X=x({type:void 0,minRows:E,maxRows:E},X):X=x({type:void 0,maxRows:S,minRows:A},X),Me=wn);const Ie=D=>{F(D.animationName==="mui-auto-fill-cancel"?ne.current:{value:"x"})};v.useEffect(()=>{z&&z.setAdornedStart(!!q)},[z,q]);const le=x({},a,{color:G.color||"primary",disabled:G.disabled,endAdornment:r,error:G.error,focused:G.focused,formControl:z,fullWidth:s,hiddenLabel:G.hiddenLabel,multiline:k,size:G.size,startAdornment:q,type:ee}),ge=Pn(le),Pe=V.root||O.Root||et,me=j.root||R.root||{},se=V.input||O.Input||tt;return X=x({},X,(o=j.input)!=null?o:R.input),c.jsxs(v.Fragment,{children:[!l&&On,c.jsxs(Pe,x({},me,!wt(Pe)&&{ownerState:x({},le,me.ownerState)},{ref:n,onClick:Se},re,{className:_e(ge.root,me.className,g,$&&"MuiInputBase-readOnly"),children:[q,c.jsx(Lt.Provider,{value:null,children:c.jsx(se,x({ownerState:le,"aria-invalid":G.error,"aria-describedby":u,autoComplete:i,autoFocus:f,defaultValue:C,disabled:G.disabled,id:d,onAnimationStart:Ie,name:w,placeholder:I,readOnly:$,required:G.required,rows:E,value:Z,onKeyDown:b,onKeyUp:M,type:ee},X,!wt(se)&&{as:Me,ownerState:x({},le,X.ownerState)},{ref:pe,className:_e(ge.input,X.className,$&&"MuiInputBase-readOnly"),onBlur:he,onChange:Le,onFocus:Q}))}),r,B?B(x({},G,{startAdornment:q})):null]}))]})}),pt=kn;function _n(e){return we("MuiInput",e)}const An=x({},ze,ye("MuiInput",["root","underline","input"])),He=An;function jn(e){return we("MuiOutlinedInput",e)}const En=x({},ze,ye("MuiOutlinedInput",["root","notchedOutline","input"])),Ce=En;function $n(e){return we("MuiFilledInput",e)}const Ln=x({},ze,ye("MuiFilledInput",["root","underline","input"])),Oe=Ln,Nn=an(c.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Fn(e){return we("MuiDialogActions",e)}ye("MuiDialogActions",["root","spacing"]);const zn=["className","disableSpacing"],Dn=e=>{const{classes:t,disableSpacing:n}=e;return Re({root:["root",!n&&"spacing"]},Fn,t)},Bn=W("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>x({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Un=v.forwardRef(function(t,n){const o=Ee({props:t,name:"MuiDialogActions"}),{className:a,disableSpacing:u=!1}=o,i=ae(o,zn),f=x({},o,{disableSpacing:u}),g=Dn(f);return c.jsx(Bn,x({className:_e(g.root,a),ownerState:f,ref:n},i))}),Wn=Un;function Hn(e){return we("MuiDialogContent",e)}ye("MuiDialogContent",["root","dividers"]);const Vn=ye("MuiDialogTitle",["root"]),qn=Vn,Gn=["className","dividers"],Kn=e=>{const{classes:t,dividers:n}=e;return Re({root:["root",n&&"dividers"]},Hn,t)},Xn=W("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>x({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${qn.root} + &`]:{paddingTop:0}})),Jn=v.forwardRef(function(t,n){const o=Ee({props:t,name:"MuiDialogContent"}),{className:a,dividers:u=!1}=o,i=ae(o,Gn),f=x({},o,{dividers:u}),g=Kn(f);return c.jsx(Xn,x({className:_e(g.root,a),ownerState:f,ref:n},i))}),Qn=Jn,Yn=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Zn=e=>{const{classes:t,disableUnderline:n}=e,a=Re({root:["root",!n&&"underline"],input:["input"]},$n,t);return x({},t,a)},er=W(et,{shouldForwardProp:e=>$e(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Ye(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const o=e.palette.mode==="light",a=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return x({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u}},[`&.${Oe.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u},[`&.${Oe.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:f}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Oe.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Oe.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Oe.disabled}, .${Oe.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Oe.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&x({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),tr=W(tt,{name:"MuiFilledInput",slot:"Input",overridesResolver:Ze})(({theme:e,ownerState:t})=>x({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Ft=v.forwardRef(function(t,n){var o,a,u,i;const f=Ee({props:t,name:"MuiFilledInput"}),{components:g={},componentsProps:O,fullWidth:R=!1,inputComponent:C="input",multiline:h=!1,slotProps:l,slots:r={},type:s="text"}=f,d=ae(f,Yn),p=x({},f,{fullWidth:R,inputComponent:C,multiline:h,type:s}),m=Zn(f),y={root:{ownerState:p},input:{ownerState:p}},S=l??O?ct(y,l??O):y,A=(o=(a=r.root)!=null?a:g.Root)!=null?o:er,k=(u=(i=r.input)!=null?i:g.Input)!=null?u:tr;return c.jsx(pt,x({slots:{root:A,input:k},componentsProps:S,fullWidth:R,inputComponent:C,multiline:h,ref:n,type:s},d,{classes:m}))});Ft.muiName="Input";const nr=Ft,rr=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],ir=e=>{const{classes:t,disableUnderline:n}=e,a=Re({root:["root",!n&&"underline"],input:["input"]},_n,t);return x({},t,a)},or=W(et,{shouldForwardProp:e=>$e(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Ye(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let o=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(o=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),x({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${He.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${He.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${He.disabled}, .${He.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${He.disabled}:before`]:{borderBottomStyle:"dotted"}})}),sr=W(tt,{name:"MuiInput",slot:"Input",overridesResolver:Ze})({}),zt=v.forwardRef(function(t,n){var o,a,u,i;const f=Ee({props:t,name:"MuiInput"}),{disableUnderline:g,components:O={},componentsProps:R,fullWidth:C=!1,inputComponent:h="input",multiline:l=!1,slotProps:r,slots:s={},type:d="text"}=f,p=ae(f,rr),m=ir(f),S={root:{ownerState:{disableUnderline:g}}},A=r??R?ct(r??R,S):S,k=(o=(a=s.root)!=null?a:O.Root)!=null?o:or,w=(u=(i=s.input)!=null?i:O.Input)!=null?u:sr;return c.jsx(pt,x({slots:{root:k,input:w},slotProps:A,fullWidth:C,inputComponent:h,multiline:l,ref:n,type:d},p,{classes:m}))});zt.muiName="Input";const ar=zt;function lr(e){return we("MuiNativeSelect",e)}const cr=ye("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ft=cr,ur=["className","disabled","error","IconComponent","inputRef","variant"],dr=e=>{const{classes:t,variant:n,disabled:o,multiple:a,open:u,error:i}=e,f={select:["select",n,o&&"disabled",a&&"multiple",i&&"error"],icon:["icon",`icon${ke(n)}`,u&&"iconOpen",o&&"disabled"]};return Re(f,lr,t)},Dt=({ownerState:e,theme:t})=>x({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":x({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${ft.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),pr=W("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:$e,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${ft.multiple}`]:t.multiple}]}})(Dt),Bt=({ownerState:e,theme:t})=>x({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${ft.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),fr=W("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ke(n.variant)}`],n.open&&t.iconOpen]}})(Bt),hr=v.forwardRef(function(t,n){const{className:o,disabled:a,error:u,IconComponent:i,inputRef:f,variant:g="standard"}=t,O=ae(t,ur),R=x({},t,{disabled:a,variant:g,error:u}),C=dr(R);return c.jsxs(v.Fragment,{children:[c.jsx(pr,x({ownerState:R,className:_e(C.select,o),disabled:a,ref:f||n},O)),t.multiple?null:c.jsx(fr,{as:i,ownerState:R,className:C.icon})]})}),gr=hr;var Mt;const mr=["children","classes","className","label","notched"],vr=W("fieldset",{shouldForwardProp:$e})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),br=W("legend",{shouldForwardProp:$e})(({ownerState:e,theme:t})=>x({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&x({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function yr(e){const{className:t,label:n,notched:o}=e,a=ae(e,mr),u=n!=null&&n!=="",i=x({},e,{notched:o,withLabel:u});return c.jsx(vr,x({"aria-hidden":!0,className:t,ownerState:i},a,{children:c.jsx(br,{ownerState:i,children:u?c.jsx("span",{children:n}):Mt||(Mt=c.jsx("span",{className:"notranslate",children:"​"}))})}))}const Sr=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],xr=e=>{const{classes:t}=e,o=Re({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},jn,t);return x({},t,o)},Cr=W(et,{shouldForwardProp:e=>$e(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Ye})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return x({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ce.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ce.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ce.focused} .${Ce.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Ce.error} .${Ce.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ce.disabled} .${Ce.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&x({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),wr=W(yr,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Rr=W(tt,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Ze})(({theme:e,ownerState:t})=>x({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),Ut=v.forwardRef(function(t,n){var o,a,u,i,f;const g=Ee({props:t,name:"MuiOutlinedInput"}),{components:O={},fullWidth:R=!1,inputComponent:C="input",label:h,multiline:l=!1,notched:r,slots:s={},type:d="text"}=g,p=ae(g,Sr),m=xr(g),y=dt(),S=ut({props:g,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),A=x({},g,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:y,fullWidth:R,hiddenLabel:S.hiddenLabel,multiline:l,size:S.size,type:d}),k=(o=(a=s.root)!=null?a:O.Root)!=null?o:Cr,w=(u=(i=s.input)!=null?i:O.Input)!=null?u:Rr;return c.jsx(pt,x({slots:{root:k,input:w},renderSuffix:_=>c.jsx(wr,{ownerState:A,className:m.notchedOutline,label:h!=null&&h!==""&&S.required?f||(f=c.jsxs(v.Fragment,{children:[h," ","*"]})):h,notched:typeof r<"u"?r:!!(_.startAdornment||_.filled||_.focused)}),fullWidth:R,inputComponent:C,multiline:l,ref:n,type:d},p,{classes:x({},m,{notchedOutline:null})}))});Ut.muiName="Input";const Tr=Ut;function Mr(e){return we("MuiSelect",e)}const Ve=ye("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var It;const Ir=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Pr=W("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Ve.select}`]:t.select},{[`&.${Ve.select}`]:t[n.variant]},{[`&.${Ve.error}`]:t.error},{[`&.${Ve.multiple}`]:t.multiple}]}})(Dt,{[`&.${Ve.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Or=W("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${ke(n.variant)}`],n.open&&t.iconOpen]}})(Bt),kr=W("input",{shouldForwardProp:e=>ln(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Pt(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function _r(e){return e==null||typeof e=="string"&&!e.trim()}const Ar=e=>{const{classes:t,variant:n,disabled:o,multiple:a,open:u,error:i}=e,f={select:["select",n,o&&"disabled",a&&"multiple",i&&"error"],icon:["icon",`icon${ke(n)}`,u&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return Re(f,Mr,t)},jr=v.forwardRef(function(t,n){var o;const{"aria-describedby":a,"aria-label":u,autoFocus:i,autoWidth:f,children:g,className:O,defaultOpen:R,defaultValue:C,disabled:h,displayEmpty:l,error:r=!1,IconComponent:s,inputRef:d,labelId:p,MenuProps:m={},multiple:y,name:S,onBlur:A,onChange:k,onClose:w,onFocus:_,onOpen:U,open:H,readOnly:J,renderValue:b,SelectDisplayProps:M={},tabIndex:I,value:$,variant:B="standard"}=t,E=ae(t,Ir),[j,V]=Rt({controlled:$,default:C,name:"Select"}),[q,ee]=Rt({controlled:H,default:R,name:"Select"}),te=v.useRef(null),re=v.useRef(null),[Z,ce]=v.useState(null),{current:ne}=v.useRef(H!=null),[Te,pe]=v.useState(),ue=Qe(n,d),fe=v.useCallback(P=>{re.current=P,P&&ce(P)},[]),z=Z==null?void 0:Z.parentNode;v.useImperativeHandle(ue,()=>({focus:()=>{re.current.focus()},node:te.current,value:j}),[j]),v.useEffect(()=>{R&&q&&Z&&!ne&&(pe(f?null:z.clientWidth),re.current.focus())},[Z,f]),v.useEffect(()=>{i&&re.current.focus()},[i]),v.useEffect(()=>{if(!p)return;const P=cn(re.current).getElementById(p);if(P){const L=()=>{getSelection().isCollapsed&&re.current.focus()};return P.addEventListener("click",L),()=>{P.removeEventListener("click",L)}}},[p]);const G=(P,L)=>{P?U&&U(L):w&&w(L),ne||(pe(f?null:z.clientWidth),ee(P))},T=P=>{P.button===0&&(P.preventDefault(),re.current.focus(),G(!0,P))},K=P=>{G(!1,P)},F=v.Children.toArray(g),Q=P=>{const L=F.find(N=>N.props.value===P.target.value);L!==void 0&&(V(L.props.value),k&&k(P,L))},he=P=>L=>{let N;if(L.currentTarget.hasAttribute("tabindex")){if(y){N=Array.isArray(j)?j.slice():[];const Y=j.indexOf(P.props.value);Y===-1?N.push(P.props.value):N.splice(Y,1)}else N=P.props.value;if(P.props.onClick&&P.props.onClick(L),j!==N&&(V(N),k)){const Y=L.nativeEvent||L,de=new Y.constructor(Y.type,Y);Object.defineProperty(de,"target",{writable:!0,value:{value:N,name:S}}),k(de,P)}y||G(!1,L)}},Le=P=>{J||[" ","ArrowUp","ArrowDown","Enter"].indexOf(P.key)!==-1&&(P.preventDefault(),G(!0,P))},Se=Z!==null&&q,Me=P=>{!Se&&A&&(Object.defineProperty(P,"target",{writable:!0,value:{value:j,name:S}}),A(P))};delete E["aria-invalid"];let X,Ie;const le=[];let ge=!1;(Nt({value:j})||l)&&(b?X=b(j):ge=!0);const Pe=F.map(P=>{if(!v.isValidElement(P))return null;let L;if(y){if(!Array.isArray(j))throw new Error(jt(2));L=j.some(N=>Pt(N,P.props.value)),L&&ge&&le.push(P.props.children)}else L=Pt(j,P.props.value),L&&ge&&(Ie=P.props.children);return v.cloneElement(P,{"aria-selected":L?"true":"false",onClick:he(P),onKeyUp:N=>{N.key===" "&&N.preventDefault(),P.props.onKeyUp&&P.props.onKeyUp(N)},role:"option",selected:L,value:void 0,"data-value":P.props.value})});ge&&(y?le.length===0?X=null:X=le.reduce((P,L,N)=>(P.push(L),N<le.length-1&&P.push(", "),P),[]):X=Ie);let me=Te;!f&&ne&&Z&&(me=z.clientWidth);let se;typeof I<"u"?se=I:se=h?null:0;const D=M.id||(S?`mui-component-select-${S}`:void 0),ve=x({},t,{variant:B,value:j,open:Se,error:r}),be=Ar(ve),Ne=x({},m.PaperProps,(o=m.slotProps)==null?void 0:o.paper),Be=un();return c.jsxs(v.Fragment,{children:[c.jsx(Pr,x({ref:fe,tabIndex:se,role:"combobox","aria-controls":Be,"aria-disabled":h?"true":void 0,"aria-expanded":Se?"true":"false","aria-haspopup":"listbox","aria-label":u,"aria-labelledby":[p,D].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:Le,onMouseDown:h||J?null:T,onBlur:Me,onFocus:_},M,{ownerState:ve,className:_e(M.className,be.select,O),id:D,children:_r(X)?It||(It=c.jsx("span",{className:"notranslate",children:"​"})):X})),c.jsx(kr,x({"aria-invalid":r,value:Array.isArray(j)?j.join(","):j,name:S,ref:te,"aria-hidden":!0,onChange:Q,tabIndex:-1,disabled:h,className:be.nativeInput,autoFocus:i,ownerState:ve},E)),c.jsx(Or,{as:s,className:be.icon,ownerState:ve}),c.jsx(dn,x({id:`menu-${S||""}`,anchorEl:z,open:Se,onClose:K,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},m,{MenuListProps:x({"aria-labelledby":p,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:Be},m.MenuListProps),slotProps:x({},m.slotProps,{paper:x({},Ne,{style:x({minWidth:me},Ne!=null?Ne.style:null)})}),children:Pe}))]})}),Er=jr,$r=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Lr=["root"],Nr=e=>{const{classes:t}=e;return t},ht={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>$e(e)&&e!=="variant",slot:"Root"},Fr=W(ar,ht)(""),zr=W(Tr,ht)(""),Dr=W(nr,ht)(""),Wt=v.forwardRef(function(t,n){const o=Ee({name:"MuiSelect",props:t}),{autoWidth:a=!1,children:u,classes:i={},className:f,defaultOpen:g=!1,displayEmpty:O=!1,IconComponent:R=Nn,id:C,input:h,inputProps:l,label:r,labelId:s,MenuProps:d,multiple:p=!1,native:m=!1,onClose:y,onOpen:S,open:A,renderValue:k,SelectDisplayProps:w,variant:_="outlined"}=o,U=ae(o,$r),H=m?gr:Er,J=dt(),b=ut({props:o,muiFormControl:J,states:["variant","error"]}),M=b.variant||_,I=x({},o,{variant:M,classes:i}),$=Nr(I),B=ae($,Lr),E=h||{standard:c.jsx(Fr,{ownerState:I}),outlined:c.jsx(zr,{label:r,ownerState:I}),filled:c.jsx(Dr,{ownerState:I})}[M],j=Qe(n,E.ref);return c.jsx(v.Fragment,{children:v.cloneElement(E,x({inputComponent:H,inputProps:x({children:u,error:b.error,IconComponent:R,variant:M,type:void 0,multiple:p},m?{id:C}:{autoWidth:a,defaultOpen:g,displayEmpty:O,labelId:s,MenuProps:d,onClose:y,onOpen:S,open:A,renderValue:k,SelectDisplayProps:x({id:C},w)},l,{classes:l?ct(B,l.classes):B},h?h.props.inputProps:{})},(p&&m||O)&&M==="outlined"?{notched:!0}:{},{ref:j,className:_e(E.props.className,f,$.root)},!h&&{variant:M},U))})});Wt.muiName="Select";const Br=Wt;var gt={},Ht={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.browserSupportsPolyfills=ie.compareTwoStringsUsingDiceCoefficient=ie.commandToRegExp=ie.concatTranscripts=ie.debounce=void 0;var Ur=function(t,n,o){var a;return function(){var u=this,i=arguments,f=function(){a=null,o||t.apply(u,i)},g=o&&!a;clearTimeout(a),a=setTimeout(f,n),g&&t.apply(u,i)}};ie.debounce=Ur;var Wr=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.map(function(a){return a.trim()}).join(" ").trim()};ie.concatTranscripts=Wr;var Hr=/\s*\((.*?)\)\s*/g,Vr=/(\(\?:[^)]+\))\?/g,qr=/(\(\?)?:\w+/g,Gr=/\*/g,Kr=/[-{}[\]+?.,\\^$|#]/g,Xr=function(t){return t instanceof RegExp?new RegExp(t.source,"i"):(t=t.replace(Kr,"\\$&").replace(Hr,"(?:$1)?").replace(qr,function(n,o){return o?n:"([^\\s]+)"}).replace(Gr,"(.*?)").replace(Vr,"\\s*$1?\\s*"),new RegExp("^"+t+"$","i"))};ie.commandToRegExp=Xr;var Jr=function(t,n){if(t=t.replace(/\s+/g,"").toLowerCase(),n=n.replace(/\s+/g,"").toLowerCase(),!t.length&&!n.length)return 1;if(!t.length||!n.length)return 0;if(t===n)return 1;if(t.length===1&&n.length===1||t.length<2||n.length<2)return 0;for(var o=new Map,a=0;a<t.length-1;a++){var u=t.substring(a,a+2),i=o.has(u)?o.get(u)+1:1;o.set(u,i)}for(var f=0,g=0;g<n.length-1;g++){var O=n.substring(g,g+2),R=o.has(O)?o.get(O):0;R>0&&(o.set(O,R-1),f++)}return 2*f/(t.length+n.length-2)};ie.compareTwoStringsUsingDiceCoefficient=Jr;var Qr=function(){return typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0)};ie.browserSupportsPolyfills=Qr;var De={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.APPEND_TRANSCRIPT=je.CLEAR_TRANSCRIPT=void 0;var Yr="CLEAR_TRANSCRIPT";je.CLEAR_TRANSCRIPT=Yr;var Zr="APPEND_TRANSCRIPT";je.APPEND_TRANSCRIPT=Zr;Object.defineProperty(De,"__esModule",{value:!0});De.appendTranscript=De.clearTranscript=void 0;var Vt=je,ei=function(){return{type:Vt.CLEAR_TRANSCRIPT}};De.clearTranscript=ei;var ti=function(t,n){return{type:Vt.APPEND_TRANSCRIPT,payload:{interimTranscript:t,finalTranscript:n}}};De.appendTranscript=ti;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.transcriptReducer=void 0;var Ot=je,ni=ie,ri=function(t,n){switch(n.type){case Ot.CLEAR_TRANSCRIPT:return{interimTranscript:"",finalTranscript:""};case Ot.APPEND_TRANSCRIPT:return{interimTranscript:n.payload.interimTranscript,finalTranscript:(0,ni.concatTranscripts)(t.finalTranscript,n.payload.finalTranscript)};default:throw new Error}};nt.transcriptReducer=ri;var qt={},mt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){return/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"")};e.default=t})(mt);var vt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isNative=void 0;var t=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),n=function(u){return u===t};e.isNative=n;var o=t;e.default=o})(vt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(mt),n=ie,o=vt;function a(C){return C&&C.__esModule?C:{default:C}}function u(C,h,l,r,s,d,p){try{var m=C[d](p),y=m.value}catch(S){l(S);return}m.done?h(y):Promise.resolve(y).then(r,s)}function i(C){return function(){var h=this,l=arguments;return new Promise(function(r,s){var d=C.apply(h,l);function p(y){u(d,r,s,p,m,"next",y)}function m(y){u(d,r,s,p,m,"throw",y)}p(void 0)})}}function f(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}function g(C,h){for(var l=0;l<h.length;l++){var r=h[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(C,r.key,r)}}function O(C,h,l){return h&&g(C.prototype,h),l&&g(C,l),C}var R=function(){function C(h){f(this,C),this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=function(){},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(h),(0,t.default)()&&(this.updateFinalTranscript=(0,n.debounce)(this.updateFinalTranscript,250,!0))}return O(C,[{key:"setSpeechRecognition",value:function(l){var r=!!l&&((0,o.isNative)(l)||(0,n.browserSupportsPolyfills)());r&&(this.disableRecognition(),this.recognition=new l,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(r)}},{key:"subscribe",value:function(l,r){this.subscribers[l]=r}},{key:"unsubscribe",value:function(l){delete this.subscribers[l]}},{key:"emitListeningChange",value:function(l){var r=this;this.listening=l,Object.keys(this.subscribers).forEach(function(s){var d=r.subscribers[s].onListeningChange;d(l)})}},{key:"emitMicrophoneAvailabilityChange",value:function(l){var r=this;this.isMicrophoneAvailable=l,Object.keys(this.subscribers).forEach(function(s){var d=r.subscribers[s].onMicrophoneAvailabilityChange;d(l)})}},{key:"emitTranscriptChange",value:function(l,r){var s=this;Object.keys(this.subscribers).forEach(function(d){var p=s.subscribers[d].onTranscriptChange;p(l,r)})}},{key:"emitClearTranscript",value:function(){var l=this;Object.keys(this.subscribers).forEach(function(r){var s=l.subscribers[r].onClearTranscript;s()})}},{key:"emitBrowserSupportsSpeechRecognitionChange",value:function(l){var r=this;Object.keys(this.subscribers).forEach(function(s){var d=r.subscribers[s],p=d.onBrowserSupportsSpeechRecognitionChange,m=d.onBrowserSupportsContinuousListeningChange;p(l),m(l)})}},{key:"disconnect",value:function(l){if(this.recognition&&this.listening)switch(l){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}},{key:"disableRecognition",value:function(){this.recognition&&(this.recognition.onresult=function(){},this.recognition.onend=function(){},this.recognition.onerror=function(){},this.listening&&this.stopListening())}},{key:"onError",value:function(l){l&&l.error&&l.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}},{key:"onRecognitionDisconnect",value:function(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}},{key:"updateTranscript",value:function(l){var r=l.results,s=l.resultIndex,d=s===void 0?r.length-1:s;this.interimTranscript="",this.finalTranscript="";for(var p=d;p<r.length;++p)r[p].isFinal&&(!(0,t.default)()||r[p][0].confidence>0)?this.updateFinalTranscript(r[p][0].transcript):this.interimTranscript=(0,n.concatTranscripts)(this.interimTranscript,r[p][0].transcript);var m=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(m=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,m||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}},{key:"updateFinalTranscript",value:function(l){this.finalTranscript=(0,n.concatTranscripts)(this.finalTranscript,l)}},{key:"resetTranscript",value:function(){this.disconnect("RESET")}},{key:"startListening",value:function(){var h=i(regeneratorRuntime.mark(function r(){var s,d,p,m,y,S,A=arguments;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=A.length>0&&A[0]!==void 0?A[0]:{},d=s.continuous,p=d===void 0?!1:d,m=s.language,this.recognition){w.next=3;break}return w.abrupt("return");case 3:if(y=p!==this.recognition.continuous,S=m&&m!==this.recognition.lang,!(y||S)){w.next=11;break}if(!this.listening){w.next=9;break}return w.next=9,this.stopListening();case 9:this.recognition.continuous=y?p:this.recognition.continuous,this.recognition.lang=S?m:this.recognition.lang;case 11:if(this.listening){w.next=22;break}return this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript()),w.prev=13,w.next=16,this.start();case 16:this.emitListeningChange(!0),w.next=22;break;case 19:w.prev=19,w.t0=w.catch(13),w.t0 instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1);case 22:case"end":return w.stop()}},r,this,[[13,19]])}));function l(){return h.apply(this,arguments)}return l}()},{key:"abortListening",value:function(){var h=i(regeneratorRuntime.mark(function r(){var s=this;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this.disconnect("ABORT"),this.emitListeningChange(!1),p.next=4,new Promise(function(m){s.onStopListening=m});case 4:case"end":return p.stop()}},r,this)}));function l(){return h.apply(this,arguments)}return l}()},{key:"stopListening",value:function(){var h=i(regeneratorRuntime.mark(function r(){var s=this;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this.disconnect("STOP"),this.emitListeningChange(!1),p.next=4,new Promise(function(m){s.onStopListening=m});case 4:case"end":return p.stop()}},r,this)}));function l(){return h.apply(this,arguments)}return l}()},{key:"getRecognition",value:function(){return this.recognition}},{key:"start",value:function(){var h=i(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(this.recognition&&!this.listening)){d.next=4;break}return d.next=3,this.recognition.start();case 3:this.listening=!0;case 4:case"end":return d.stop()}},r,this)}));function l(){return h.apply(this,arguments)}return l}()},{key:"stop",value:function(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}},{key:"abort",value:function(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}}]),C}();e.default=R})(qt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.useSpeechRecognition=void 0;var t=v,n=ie,o=De,a=nt,u=g(qt),i=g(mt),f=g(vt);function g(b){return b&&b.__esModule?b:{default:b}}function O(b,M,I,$,B,E,j){try{var V=b[E](j),q=V.value}catch(ee){I(ee);return}V.done?M(q):Promise.resolve(q).then($,B)}function R(b){return function(){var M=this,I=arguments;return new Promise(function($,B){var E=b.apply(M,I);function j(q){O(E,$,B,j,V,"next",q)}function V(q){O(E,$,B,j,V,"throw",q)}j(void 0)})}}function C(b){return r(b)||l(b)||m(b)||h()}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(b){if(typeof Symbol<"u"&&Symbol.iterator in Object(b))return Array.from(b)}function r(b){if(Array.isArray(b))return y(b)}function s(b){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(I){return typeof I}:s=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},s(b)}function d(b,M){return A(b)||S(b,M)||m(b,M)||p()}function p(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(b,M){if(b){if(typeof b=="string")return y(b,M);var I=Object.prototype.toString.call(b).slice(8,-1);if(I==="Object"&&b.constructor&&(I=b.constructor.name),I==="Map"||I==="Set")return Array.from(b);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return y(b,M)}}function y(b,M){(M==null||M>b.length)&&(M=b.length);for(var I=0,$=new Array(M);I<M;I++)$[I]=b[I];return $}function S(b,M){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(b)))){var I=[],$=!0,B=!1,E=void 0;try{for(var j=b[Symbol.iterator](),V;!($=(V=j.next()).done)&&(I.push(V.value),!(M&&I.length===M));$=!0);}catch(q){B=!0,E=q}finally{try{!$&&j.return!=null&&j.return()}finally{if(B)throw E}}return I}}function A(b){if(Array.isArray(b))return b}var k=!!f.default,w=k&&!(0,i.default)(),_,U=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=M.transcribing,$=I===void 0?!0:I,B=M.clearTranscriptOnListen,E=B===void 0?!0:B,j=M.commands,V=j===void 0?[]:j,q=(0,t.useState)(H.getRecognitionManager()),ee=d(q,1),te=ee[0],re=(0,t.useState)(k),Z=d(re,2),ce=Z[0],ne=Z[1],Te=(0,t.useState)(w),pe=d(Te,2),ue=pe[0],fe=pe[1],z=(0,t.useReducer)(a.transcriptReducer,{interimTranscript:te.interimTranscript,finalTranscript:""}),G=d(z,2),T=G[0],K=T.interimTranscript,F=T.finalTranscript,Q=G[1],he=(0,t.useState)(te.listening),Le=d(he,2),Se=Le[0],Me=Le[1],X=(0,t.useState)(te.isMicrophoneAvailable),Ie=d(X,2),le=Ie[0],ge=Ie[1],Pe=(0,t.useRef)(V);Pe.current=V;var me=function(){Q((0,o.clearTranscript)())},se=(0,t.useCallback)(function(){te.resetTranscript(),me()},[te]),D=function(N,Y,de){var xe=s(N)==="object"?N.toString():N,Ue=xe.replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),qe=(0,n.compareTwoStringsUsingDiceCoefficient)(Ue,Y);return qe>=de?{command:N,commandWithoutSpecials:Ue,howSimilar:qe,isFuzzyMatch:!0}:null},ve=function(N,Y){var de=(0,n.commandToRegExp)(N),xe=de.exec(Y);return xe?{command:N,parameters:xe.slice(1)}:null},be=(0,t.useCallback)(function(L,N){Pe.current.forEach(function(Y){var de=Y.command,xe=Y.callback,Ue=Y.matchInterim,qe=Ue===void 0?!1:Ue,bt=Y.isFuzzyMatch,yt=bt===void 0?!1:bt,St=Y.fuzzyMatchingThreshold,Kt=St===void 0?.8:St,xt=Y.bestMatchOnly,Xt=xt===void 0?!1:xt,Ge=!N&&qe?L.trim():N.trim(),Jt=Array.isArray(de)?de:[de],Ke=Jt.map(function(oe){return yt?D(oe,Ge,Kt):ve(oe,Ge)}).filter(function(oe){return oe});if(yt&&Xt&&Ke.length>=2){Ke.sort(function(oe,it){return it.howSimilar-oe.howSimilar});var rt=Ke[0],Qt=rt.command,Yt=rt.commandWithoutSpecials,Zt=rt.howSimilar;xe(Yt,Ge,Zt,{command:Qt,resetTranscript:se})}else Ke.forEach(function(oe){if(oe.isFuzzyMatch){var it=oe.command,en=oe.commandWithoutSpecials,tn=oe.howSimilar;xe(en,Ge,tn,{command:it,resetTranscript:se})}else{var nn=oe.command,rn=oe.parameters;xe.apply(void 0,C(rn).concat([{command:nn,resetTranscript:se}]))}})})},[se]),Ne=(0,t.useCallback)(function(L,N){$&&Q((0,o.appendTranscript)(L,N)),be(L,N)},[be,$]),Be=(0,t.useCallback)(function(){E&&me()},[E]);(0,t.useEffect)(function(){var L=H.counter;H.counter+=1;var N={onListeningChange:Me,onMicrophoneAvailabilityChange:ge,onTranscriptChange:Ne,onClearTranscript:Be,onBrowserSupportsSpeechRecognitionChange:ne,onBrowserSupportsContinuousListeningChange:fe};return te.subscribe(L,N),function(){te.unsubscribe(L)}},[$,E,te,Ne,Be]);var P=(0,n.concatTranscripts)(F,K);return{transcript:P,interimTranscript:K,finalTranscript:F,listening:Se,isMicrophoneAvailable:le,resetTranscript:se,browserSupportsSpeechRecognition:ce,browserSupportsContinuousListening:ue}};e.useSpeechRecognition=U;var H={counter:0,applyPolyfill:function(M){_?_.setSpeechRecognition(M):_=new u.default(M);var I=!!M&&(0,n.browserSupportsPolyfills)();k=I,w=I},removePolyfill:function(){_?_.setSpeechRecognition(f.default):_=new u.default(f.default),k=!!f.default,w=k&&!(0,i.default)()},getRecognitionManager:function(){return _||(_=new u.default(f.default)),_},getRecognition:function(){var M=H.getRecognitionManager();return M.getRecognition()},startListening:function(){var b=R(regeneratorRuntime.mark(function I(){var $,B,E,j,V=arguments;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return $=V.length>0&&V[0]!==void 0?V[0]:{},B=$.continuous,E=$.language,j=H.getRecognitionManager(),ee.next=4,j.startListening({continuous:B,language:E});case 4:case"end":return ee.stop()}},I)}));function M(){return b.apply(this,arguments)}return M}(),stopListening:function(){var b=R(regeneratorRuntime.mark(function I(){var $;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return $=H.getRecognitionManager(),E.next=3,$.stopListening();case 3:case"end":return E.stop()}},I)}));function M(){return b.apply(this,arguments)}return M}(),abortListening:function(){var b=R(regeneratorRuntime.mark(function I(){var $;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return $=H.getRecognitionManager(),E.next=3,$.abortListening();case 3:case"end":return E.stop()}},I)}));function M(){return b.apply(this,arguments)}return M}(),browserSupportsSpeechRecognition:function(){return k},browserSupportsContinuousListening:function(){return w}},J=H;e.default=J})(Ht);(function(e){function t(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(g){return typeof g}:t=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(i)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useSpeechRecognition",{enumerable:!0,get:function(){return n.useSpeechRecognition}}),e.default=void 0;var n=a(Ht);function o(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return o=function(){return i},i}function a(i){if(i&&i.__esModule)return i;if(i===null||t(i)!=="object"&&typeof i!="function")return{default:i};var f=o();if(f&&f.has(i))return f.get(i);var g={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in i)if(Object.prototype.hasOwnProperty.call(i,R)){var C=O?Object.getOwnPropertyDescriptor(i,R):null;C&&(C.get||C.set)?Object.defineProperty(g,R,C):g[R]=i[R]}return g.default=i,f&&f.set(i,g),g}var u=n.default;e.default=u})(gt);const kt=Et(gt);var Gt={exports:{}};(function(e,t){(function(o,a){e.exports=a(v)})(pn,function(n){return function(o){var a={};function u(i){if(a[i])return a[i].exports;var f=a[i]={i,l:!1,exports:{}};return o[i].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=o,u.c=a,u.d=function(i,f,g){u.o(i,f)||Object.defineProperty(i,f,{enumerable:!0,get:g})},u.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},u.t=function(i,f){if(f&1&&(i=u(i)),f&8||f&4&&typeof i=="object"&&i&&i.__esModule)return i;var g=Object.create(null);if(u.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:i}),f&2&&typeof i!="string")for(var O in i)u.d(g,O,(function(R){return i[R]}).bind(null,O));return g},u.n=function(i){var f=i&&i.__esModule?function(){return i.default}:function(){return i};return u.d(f,"a",f),f},u.o=function(i,f){return Object.prototype.hasOwnProperty.call(i,f)},u.p="",u(u.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(o,a,u){u.r(a);var i=u("react"),f=function(){var h=function(l,r){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var p in d)d.hasOwnProperty(p)&&(s[p]=d[p])},h(l,r)};return function(l,r){h(l,r);function s(){this.constructor=l}l.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),g=function(){return g=Object.assign||function(h){for(var l,r=1,s=arguments.length;r<s;r++){l=arguments[r];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(h[d]=l[d])}return h},g.apply(this,arguments)},O=function(h,l){var r={};for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&l.indexOf(s)<0&&(r[s]=h[s]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(h);d<s.length;d++)l.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(h,s[d])&&(r[s[d]]=h[s[d]]);return r};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(l){var r=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return r?new Promise(function(s,d){r.call(navigator,l,s,d)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function R(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var C=function(h){f(l,h);function l(r){var s=h.call(this,r)||this;return s.canvas=null,s.ctx=null,s.requestUserMediaId=0,s.unmounted=!1,s.state={hasUserMedia:!1},s}return l.prototype.componentDidMount=function(){var r=this,s=r.state,d=r.props;if(this.unmounted=!1,!R()){d.onUserMediaError("getUserMedia not supported");return}s.hasUserMedia||this.requestUserMedia(),d.children&&typeof d.children!="function"&&console.warn("children must be a function")},l.prototype.componentDidUpdate=function(r){var s=this.props;if(!R()){s.onUserMediaError("getUserMedia not supported");return}var d=JSON.stringify(r.audioConstraints)!==JSON.stringify(s.audioConstraints),p=JSON.stringify(r.videoConstraints)!==JSON.stringify(s.videoConstraints),m=r.minScreenshotWidth!==s.minScreenshotWidth,y=r.minScreenshotHeight!==s.minScreenshotHeight;(p||m||y)&&(this.canvas=null,this.ctx=null),(d||p)&&(this.stopAndCleanup(),this.requestUserMedia())},l.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},l.stopMediaStream=function(r){r&&(r.getVideoTracks&&r.getAudioTracks?(r.getVideoTracks().map(function(s){r.removeTrack(s),s.stop()}),r.getAudioTracks().map(function(s){r.removeTrack(s),s.stop()})):r.stop())},l.prototype.stopAndCleanup=function(){var r=this.state;r.hasUserMedia&&(l.stopMediaStream(this.stream),r.src&&window.URL.revokeObjectURL(r.src))},l.prototype.getScreenshot=function(r){var s=this,d=s.state,p=s.props;if(!d.hasUserMedia)return null;var m=this.getCanvas(r);return m&&m.toDataURL(p.screenshotFormat,p.screenshotQuality)},l.prototype.getCanvas=function(r){var s=this,d=s.state,p=s.props;if(!this.video||!d.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var m=this.video.videoWidth,y=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var S=m/y;m=p.minScreenshotWidth||this.video.clientWidth,y=m/S,p.minScreenshotHeight&&y<p.minScreenshotHeight&&(y=p.minScreenshotHeight,m=y*S)}this.canvas=document.createElement("canvas"),this.canvas.width=(r==null?void 0:r.width)||m,this.canvas.height=(r==null?void 0:r.height)||y,this.ctx=this.canvas.getContext("2d")}var A=this,k=A.ctx,w=A.canvas;return k&&w&&(w.width=(r==null?void 0:r.width)||w.width,w.height=(r==null?void 0:r.height)||w.height,p.mirrored&&(k.translate(w.width,0),k.scale(-1,1)),k.imageSmoothingEnabled=p.imageSmoothing,k.drawImage(this.video,0,0,(r==null?void 0:r.width)||w.width,(r==null?void 0:r.height)||w.height),p.mirrored&&(k.scale(-1,1),k.translate(-w.width,0))),w},l.prototype.requestUserMedia=function(){var r=this,s=this.props,d=function(y,S){var A={video:typeof S<"u"?S:!0};s.audio&&(A.audio=typeof y<"u"?y:!0),r.requestUserMediaId++;var k=r.requestUserMediaId;navigator.mediaDevices.getUserMedia(A).then(function(w){r.unmounted||k!==r.requestUserMediaId?l.stopMediaStream(w):r.handleUserMedia(null,w)}).catch(function(w){r.handleUserMedia(w)})};if("mediaDevices"in navigator)d(s.audioConstraints,s.videoConstraints);else{var p=function(y){return{optional:[{sourceId:y}]}},m=function(y){var S=y.deviceId;return typeof S=="string"?S:Array.isArray(S)&&S.length>0?S[0]:typeof S=="object"&&S.ideal?S.ideal:null};MediaStreamTrack.getSources(function(y){var S=null,A=null;y.forEach(function(_){_.kind==="audio"?S=_.id:_.kind==="video"&&(A=_.id)});var k=m(s.audioConstraints);k&&(S=k);var w=m(s.videoConstraints);w&&(A=w),d(p(S),p(A))})}},l.prototype.handleUserMedia=function(r,s){var d=this.props;if(r||!s){this.setState({hasUserMedia:!1}),d.onUserMediaError(r);return}this.stream=s;try{this.video&&(this.video.srcObject=s),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(s)})}d.onUserMedia(s)},l.prototype.render=function(){var r=this,s=this,d=s.state,p=s.props,m=p.audio;p.forceScreenshotSourceSize;var y=p.disablePictureInPicture;p.onUserMedia,p.onUserMediaError,p.screenshotFormat,p.screenshotQuality,p.minScreenshotWidth,p.minScreenshotHeight,p.audioConstraints,p.videoConstraints,p.imageSmoothing;var S=p.mirrored,A=p.style,k=A===void 0?{}:A,w=p.children,_=O(p,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),U=S?g(g({},k),{transform:(k.transform||"")+" scaleX(-1)"}):k,H={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",g({autoPlay:!0,disablePictureInPicture:y,src:d.src,muted:!m,playsInline:!0,ref:function(J){r.video=J},style:U},_)),w&&w(H))},l.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},l}(i.Component);a.default=C},react:function(o,a){o.exports=n}}).default})})(Gt);var ii=Gt.exports;const oi=Et(ii),si=({sx:e,hasSound:t})=>c.jsxs(Ae,{className:["boxContainer",...t?["hasSound"]:[]],sx:e,children:[c.jsx("div",{className:"box box1"}),c.jsx("div",{className:"box box2"}),c.jsx("div",{className:"box box3"}),c.jsx("div",{className:"box box4"}),c.jsx("div",{className:"box box5"}),c.jsx(Ae,{})]}),ai=v.createContext(null),st={didCatch:!1,error:null};class li extends v.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=st}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,o,a=arguments.length,u=new Array(a),i=0;i<a;i++)u[i]=arguments[i];(n=(o=this.props).onReset)===null||n===void 0||n.call(o,{args:u,reason:"imperative-api"}),this.setState(st)}}componentDidCatch(t,n){var o,a;(o=(a=this.props).onError)===null||o===void 0||o.call(a,t,n)}componentDidUpdate(t,n){const{didCatch:o}=this.state,{resetKeys:a}=this.props;if(o&&n.error!==null&&ci(t.resetKeys,a)){var u,i;(u=(i=this.props).onReset)===null||u===void 0||u.call(i,{next:a,prev:t.resetKeys,reason:"keys"}),this.setState(st)}}render(){const{children:t,fallbackRender:n,FallbackComponent:o,fallback:a}=this.props,{didCatch:u,error:i}=this.state;let f=t;if(u){const g={error:i,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")f=n(g);else if(o)f=v.createElement(o,g);else if(a===null||v.isValidElement(a))f=a;else throw i}return v.createElement(ai.Provider,{value:{didCatch:u,error:i,resetErrorBoundary:this.resetErrorBoundary}},f)}}function ci(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,o)=>!Object.is(n,t[o]))}const ui=W("main",{shouldForwardProp:e=>!["hide"].includes(e)})(({theme:e,hide:t})=>({flexGrow:1,position:"relative",...!t&&{paddingTop:"64px","& .chat-card-fullscreen":{paddingTop:"64px"}}})),di=e=>{const{children:t,hide_toolbar:n=!1,studioMode:o=!1,limitHeight:a=!1,service:u,subtitle:i,drawerVariant:f,threadsOpened:g,setThreadsOpened:O,setToolsParent:R,authDialogOpen:C}=e,h={domain:"blust.ai",...((u==null?void 0:u.full_screen_only)||o)&&{onSideBarToggle:O,sidebarInitialState:g,drawerVariant:f},authDialogOpen:C};return c.jsx(Ae,{sx:{display:"flex",flexDirection:"column"},...a&&{className:"vh100withFix"},children:c.jsxs(li,{fallback:c.jsx(fn,{allowReload:!0}),children:[c.jsx(hn,{options:h,subtitle:i,studioMode:!0,setToolsParent:R}),c.jsx(ui,{hide:n,...a&&{sx:{height:"100%"}},children:t})]})})},_t=()=>{const e=v.useRef(null),t=()=>{const n=["color1","color2","color3","color4","color5"];for(let o=0;o<30;o++){let a=document.createElement("div");a.className="firework "+n[Math.floor(Math.random()*n.length)],e.current.appendChild(a),a.style.display="block",a.style.animationDelay=`${o*.5}s`,a.style.top=`${Math.random()*100}%`,a.style.left=`${Math.random()*100}%`,a.addEventListener("animationend",()=>{a.remove()})}};return v.useEffect(()=>{t()},[]),c.jsx(Ae,{sx:{position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:3,textAlign:"center"},ref:e,children:c.jsx("span",{className:"winner-show",children:"Winner"})})},pi="660f1c374f0e650b68697199",fi=W(Je)({borderRadius:"50%",minWidth:"120px",height:"120px",position:"absolute",marginTop:"-60px",marginLeft:"-60px",zIndex:1,textTransform:"none",top:"50%",left:"100%","@media (max-width:600px)":{top:"100%",left:"50%"}}),At=W(gn)({borderRadius:"50%",position:"absolute",top:"1em",zIndex:2}),hi=({children:e})=>c.jsxs(Ae,{sx:{fontSize:"40px",position:"absolute",marginTop:"-40px",marginLeft:"-40px",zIndex:1,top:"50%",left:"100%","@media (max-width:600px)":{top:"100%",left:"50%"}},children:[c.jsx($t,{size:"80px",color:"info"}),c.jsx(lt,{variant:"h5",color:"#fff",sx:{position:"absolute",top:"25px",left:"23px"},children:e})]}),mi=()=>{const{client:e}=mn(),[t,n]=v.useState(!1),[o,a]=v.useState(!1),[u,i]=v.useState(),[f,g]=v.useState(),[O,R]=v.useState(),C=v.useRef(null),[h,l]=v.useState(null),[r,s]=v.useState(0),[d,p]=v.useState(),[m,y]=v.useState({}),[S,A]=v.useState([]),[k,w]=v.useState(!1),[_,U]=v.useState([parseInt(localStorage.getItem("user_score")||0),parseInt(localStorage.getItem("assistant_score")||0)]),[H,J]=v.useState(null);let b=["rock","paper","scissors"];const[M,I]=v.useState(null),$=v.useCallback(T=>{var K,F;if(!((K=T==null?void 0:T.target)!=null&&K.tagName&&["LI","li","BUTTON","button"].includes(T.target.tagName))&&!(O&&!t)&&(console.log("capturing...",((F=T==null?void 0:T.target)==null?void 0:F.tagName)||T),C!=null&&C.current)){const Q=C.current.getScreenshot();l(Q);let he=Math.floor(Math.random()*3);I(he),a(!0),console.log("Assistant chose "+b[he]+". Determining the winner..."),pe("Your choice is  "+b[he]+" Detect my choice from image",Q)}},[C,l]),B=T=>{console.log("starting"),T&&T.preventDefault(),n(!0)},E=T=>{T&&T.preventDefault(),n(!1),a(!1),kt.stopListening()},j=()=>{J(null),a(!1),I(null),l(null)},V=[{command:["* 1 2 3","* One two three","* una dos cuatro","* раз два три","* rock paper scissors shoe","* rock paper scissors show","* rock paper scissors shoot"],callback:$,isFuzzyMatch:!0,bestMatchOnly:!0,fuzzyMatchingThreshold:.2},{command:["* stop"],callback:()=>E(),isFuzzyMatch:!0,fuzzyMatchingThreshold:.5},{command:["* play (again)"],callback:()=>j(),isFuzzyMatch:!0,fuzzyMatchingThreshold:.5}],{listening:q,interimTranscript:ee,isMicrophoneAvailable:te,resetTranscript:re,browserSupportsSpeechRecognition:Z}=gt.useSpeechRecognition({commands:V}),ce=v.useCallback(T=>{var F;let K=T.filter(({kind:Q})=>Q==="videoinput");K!=null&&K.length?(A(K),y((F=K[0])==null?void 0:F.deviceId)):g("Webcamera is required to play this game")},[A]);v.useEffect(()=>{navigator.mediaDevices.enumerateDevices().then(ce)},[ce]),v.useEffect(()=>{Z?e.init({onReady:()=>{console.log("Blust AI Client ready")},onError:T=>g((T==null?void 0:T.error)||(T==null?void 0:T.message)||"Blust AI Client init error")}):g("Your browser doesn't support speech recognition.")},[]);const ne=()=>{s(Math.floor(Math.random()*3)),setTimeout(()=>{ne()},200)},Te=T=>{T.preventDefault(),y(T.target.value)},pe=async(T,K)=>{R(!0);try{g(null),i(null);let F=await e.sendMessage({service:pi,message:T,attachments:[{type:"image",url:K}]});if(F.role==="error"){switch(R(!1),re(),F.status){case"guest_low_funds":i(c.jsxs(c.Fragment,{children:["We're sorry, but you have reached a guest limit for requests. Please ",c.jsx(We,{onClick:()=>w(!0),children:"sign up"}),"."]}));return;case"user_low_funds":i(c.jsxs(c.Fragment,{children:["We're sorry, but you have reached your monthly limit for requests. Please try again next month or consider ",c.jsx(We,{href:"https://blust.ai/dashboard/changeplan",children:"upgrading your plan"})," for more requests."]}));return;default:i("Error: "+F.body)}return}let Q={};try{Q=JSON.parse(F.body)}catch{Q={winner:0,comment:F.body}}Q.winner===1?(J(1),localStorage.setItem("user_score",_[0]+1),U([_[0]+1,_[1]])):Q.winner===2&&(J(2),localStorage.setItem("assistant_score",_[1]+1),U([_[0],_[1]+1])),i(Q.comment)}catch(F){g((F==null?void 0:F.error)||(F==null?void 0:F.message)||"Sending message error")}R(!1),re(),ue(5)},ue=T=>{p(T),T===0?j():setTimeout(()=>ue(T-1),1e3)},fe=()=>{localStorage.setItem("user_score",0),localStorage.setItem("assistant_score",0),U([0,0])},z=()=>{kt.startListening({continuous:!0}),te||g("Please enable mic access"),console.log("camera ready"),ne()},G=T=>{console.error("Webcam capture error",T),g("Webcam capture error: "+((T==null?void 0:T.error)||(T==null?void 0:T.message)||" device error"))};return c.jsx(di,{authDialogOpen:k,children:c.jsxs(vn,{maxWidth:"lg",sx:{textAlign:"center",mt:2,display:"flex",flexDirection:"column",minHeight:"100vh"},children:[c.jsx(lt,{variant:"h3",children:"Rock, Paper, Scissors"}),c.jsx(lt,{variant:"h6",children:t?c.jsxs(c.Fragment,{children:["Say ",c.jsx("b",{children:"rock, paper, scissors, shoot"})," and show your choice"]}):"Please allow camera & mic access to play the game."}),f&&c.jsx(ot,{severity:"error",children:f}),c.jsx(Ae,{sx:{flex:1},children:c.jsxs(Fe,{container:!0,sx:{p:2},onClick:$,children:[c.jsxs(Fe,{item:!0,xs:12,sm:6,sx:{position:"relative",maxHeight:"100%",border:"1px solid red"},children:[c.jsx("img",{src:"/images/scissors.jpg",width:"100%",style:{display:"block"}}),t&&c.jsxs("div",{style:{height:"100%",width:"100%",overflow:"hidden",position:"absolute",top:0,left:0},children:[c.jsx("div",{style:{height:"100%",width:"100%",position:"absolute",zIndex:1,top:0,left:"50%",transform:"translateX(-50%)",minHeight:"100px"},children:c.jsx(oi,{audio:!1,ref:C,screenshotFormat:"image/jpeg",mirrored:!0,onUserMedia:z,onUserMediaError:G,style:{objectFit:"cover",minHeight:"100%"},videoConstraints:{deviceId:m},forceScreenshotSourceSize:!0})}),(S==null?void 0:S.length)>1&&c.jsx(Br,{value:m,id:"device_select",sx:{position:"absolute",zIndex:2,bottom:"2em",right:"2em",maxWidth:"50%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},size:"small",onChange:Te,onClick:T=>T.preventDefault(),color:"info",children:S==null?void 0:S.map((T,K)=>c.jsxs(bn,{value:T.deviceId,onClick:F=>F.preventDefault(),children:[" ",T.label]},K))})]}),t?c.jsx(c.Fragment,{}):c.jsx(fi,{variant:"contained",color:"error",onClick:B,disabled:!!f,children:"START"}),c.jsx(At,{sx:{left:"1em"},children:_[0]}),q&&c.jsx(si,{sx:{position:"absolute",bottom:"1em",left:"1em",zIndex:2},hasSound:!!ee})]}),c.jsxs(Fe,{item:!0,xs:12,sm:6,sx:{border:"1px solid red",position:"relative"},children:[M!==null?c.jsx("img",{src:`/images/${b[M]}.jpg`,width:"100%",style:{display:"block"}}):c.jsx("img",{src:`/images/${t?b[r]:"rock"}.jpg`,width:"100%",style:{display:"block"}}),c.jsx(At,{sx:{right:"1em"},children:_[1]})]})]})}),t&&c.jsx(Ae,{children:c.jsx(Je,{onClick:E,children:"Stop the game"})}),c.jsxs("footer",{children:[c.jsx(We,{sx:{mx:2},href:"#",onClick:fe,children:"Reset score"}),c.jsx(We,{sx:{mx:2},href:"https://github.com/blustAI/rock-paper-scissors",target:"_blank",children:"GitHub"}),c.jsx(We,{sx:{mx:2},href:"https://discord.gg/4FDAufQ4nT",target:"_blank",children:"Discord"})]}),c.jsxs(yn,{open:o,maxWidth:"lg",children:[c.jsxs(Qn,{children:[c.jsxs(Fe,{container:!0,children:[c.jsxs(Fe,{item:!0,xs:6,sx:{position:"relative"},children:[h&&c.jsx("div",{style:{height:"100%",width:"100%",overflow:"hidden",position:"absolute",top:0,left:0},children:c.jsx("img",{src:h,height:"100%",style:{display:"block"}})}),O&&c.jsx(hi,{children:"VS"}),H===1&&c.jsx(_t,{})]}),c.jsxs(Fe,{item:!0,xs:6,sx:{position:"relative"},children:[M!==null&&c.jsx("img",{src:`/images/${b[M]}.jpg`,width:"100%",style:{display:"block"}}),H===2&&c.jsx(_t,{})]})]}),O&&c.jsxs(ot,{severity:"info",icon:!1,children:[" ",c.jsx($t,{color:"info",size:"0.8em"})," Determining the winner..."]}),u&&c.jsxs(ot,{severity:"success",icon:!1,children:[" ",u," "]})]}),c.jsx(Wn,{sx:{justifyContent:"center"},children:!O&&c.jsxs(c.Fragment,{children:[c.jsx(Je,{size:"large",onClick:E,sx:{px:1},children:"Stop the game"}),c.jsxs(Je,{size:"large",color:"error",variant:"contained",onClick:j,children:["Play again ",d]})]})})]})]})})};export{mi as default};
