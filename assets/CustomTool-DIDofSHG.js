import{r as v,_ as ae,e as Qe,f as Ct,g as at,h as sn,i as c,l as x,m as ye,p as we,q as Oe,s as W,t as je,v as ke,w as wt,y as Re,G as an,z as jt,C as ln,D as Le,E as ct,F as cn,I as un,J as dn,K as pn,L as Lt,N as fn,B as Ae,O as hn,P as gn,Q as Je,U as mn,V as vn,W as We,X as bn,c as lt,A as ot,Y as De,Z as yn,a0 as Sn,a1 as $t}from"./index-DiUrmAau.js";function Rt({controlled:e,default:t,name:n,state:o="value"}){const{current:a}=v.useRef(e!==void 0),[u,i]=v.useState(t),f=a?e:u,g=v.useCallback(P=>{a||i(P)},[]);return[f,g]}const xn=["onChange","maxRows","minRows","style","value"];function Xe(e){return parseInt(e,10)||0}const Cn={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function wn(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const Rn=v.forwardRef(function(t,n){const{onChange:o,maxRows:a,minRows:u=1,style:i,value:f}=t,g=ae(t,xn),{current:P}=v.useRef(f!=null),R=v.useRef(null),C=Qe(n,R),h=v.useRef(null),l=v.useCallback(()=>{const d=R.current,m=Ct(d).getComputedStyle(d);if(m.width==="0px")return{outerHeightStyle:0,overflowing:!1};const y=h.current;y.style.width=m.width,y.value=d.value||t.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const S=m.boxSizing,A=Xe(m.paddingBottom)+Xe(m.paddingTop),O=Xe(m.borderBottomWidth)+Xe(m.borderTopWidth),w=y.scrollHeight;y.value="x";const k=y.scrollHeight;let z=w;u&&(z=Math.max(Number(u)*k,z)),a&&(z=Math.min(Number(a)*k,z)),z=Math.max(z,k);const H=z+(S==="border-box"?A+O:0),J=Math.abs(z-w)<=1;return{outerHeightStyle:H,overflowing:J}},[a,u,t.placeholder]),r=v.useCallback(()=>{const d=l();if(wn(d))return;const p=R.current;p.style.height=`${d.outerHeightStyle}px`,p.style.overflow=d.overflowing?"hidden":""},[l]);at(()=>{const d=()=>{r()};let p;const m=sn(d),y=R.current,S=Ct(y);S.addEventListener("resize",m);let A;return typeof ResizeObserver<"u"&&(A=new ResizeObserver(d),A.observe(y)),()=>{m.clear(),cancelAnimationFrame(p),S.removeEventListener("resize",m),A&&A.disconnect()}},[l,r]),at(()=>{r()});const s=d=>{P||r(),o&&o(d)};return c.jsxs(v.Fragment,{children:[c.jsx("textarea",x({value:f,onChange:s,ref:C,rows:u,style:i},g)),c.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:h,tabIndex:-1,style:x({},Cn.shadow,i,{paddingTop:0,paddingBottom:0})})]})});function ut({props:e,states:t,muiFormControl:n}){return t.reduce((o,a)=>(o[a]=e[a],n&&typeof e[a]>"u"&&(o[a]=n[a]),o),{})}const Tn=v.createContext(void 0),Nt=Tn;function dt(){return v.useContext(Nt)}function Tt(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Dt(e,t=!1){return e&&(Tt(e.value)&&e.value!==""||t&&Tt(e.defaultValue)&&e.defaultValue!=="")}function In(e){return we("MuiInputBase",e)}const Mn=ye("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ue=Mn,_n=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Ye=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Oe(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Ze=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Pn=e=>{const{classes:t,color:n,disabled:o,error:a,endAdornment:u,focused:i,formControl:f,fullWidth:g,hiddenLabel:P,multiline:R,readOnly:C,size:h,startAdornment:l,type:r}=e,s={root:["root",`color${Oe(n)}`,o&&"disabled",a&&"error",g&&"fullWidth",i&&"focused",f&&"formControl",h&&h!=="medium"&&`size${Oe(h)}`,R&&"multiline",l&&"adornedStart",u&&"adornedEnd",P&&"hiddenLabel",C&&"readOnly"],input:["input",o&&"disabled",r==="search"&&"inputTypeSearch",R&&"inputMultiline",h==="small"&&"inputSizeSmall",P&&"inputHiddenLabel",l&&"inputAdornedStart",u&&"inputAdornedEnd",C&&"readOnly"]};return Re(s,In,t)},et=W("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ye})(({theme:e,ownerState:t})=>x({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ue.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&x({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),tt=W("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ze})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",o=x({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),a={opacity:"0 !important"},u=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return x({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ue.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u},[`&.${Ue.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),On=c.jsx(an,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),kn=v.forwardRef(function(t,n){var o;const a=je({props:t,name:"MuiInputBase"}),{"aria-describedby":u,autoComplete:i,autoFocus:f,className:g,components:P={},componentsProps:R={},defaultValue:C,disabled:h,disableInjectingGlobalStyles:l,endAdornment:r,fullWidth:s=!1,id:d,inputComponent:p="input",inputProps:m={},inputRef:y,maxRows:S,minRows:A,multiline:O=!1,name:w,onBlur:k,onChange:z,onClick:H,onFocus:J,onKeyDown:b,onKeyUp:I,placeholder:M,readOnly:L,renderSuffix:B,rows:j,slotProps:E={},slots:V={},startAdornment:q,type:ee="text",value:te}=a,re=ae(a,_n),Z=m.value!=null?m.value:te,{current:ce}=v.useRef(Z!=null),ne=v.useRef(),Te=v.useCallback(F=>{},[]),pe=Qe(ne,y,m.ref,Te),[ue,fe]=v.useState(!1),U=dt(),G=ut({props:a,muiFormControl:U,states:["color","disabled","error","hiddenLabel","size","required","filled"]});G.focused=U?U.focused:ue,v.useEffect(()=>{!U&&h&&ue&&(fe(!1),k&&k())},[U,h,ue,k]);const T=U&&U.onFilled,K=U&&U.onEmpty,D=v.useCallback(F=>{Dt(F)?T&&T():K&&K()},[T,K]);at(()=>{ce&&D({value:Z})},[Z,D,ce]);const Q=F=>{if(G.disabled){F.stopPropagation();return}J&&J(F),m.onFocus&&m.onFocus(F),U&&U.onFocus?U.onFocus(F):fe(!0)},he=F=>{k&&k(F),m.onBlur&&m.onBlur(F),U&&U.onBlur?U.onBlur(F):fe(!1)},$e=(F,...ve)=>{if(!ce){const be=F.target||ne.current;if(be==null)throw new Error(jt(1));D({value:be.value})}m.onChange&&m.onChange(F,...ve),z&&z(F,...ve)};v.useEffect(()=>{D(ne.current)},[]);const Se=F=>{ne.current&&F.currentTarget===F.target&&ne.current.focus(),H&&H(F)};let Ie=p,X=m;O&&Ie==="input"&&(j?X=x({type:void 0,minRows:j,maxRows:j},X):X=x({type:void 0,maxRows:S,minRows:A},X),Ie=Rn);const Me=F=>{D(F.animationName==="mui-auto-fill-cancel"?ne.current:{value:"x"})};v.useEffect(()=>{U&&U.setAdornedStart(!!q)},[U,q]);const le=x({},a,{color:G.color||"primary",disabled:G.disabled,endAdornment:r,error:G.error,focused:G.focused,formControl:U,fullWidth:s,hiddenLabel:G.hiddenLabel,multiline:O,size:G.size,startAdornment:q,type:ee}),ge=Pn(le),_e=V.root||P.Root||et,me=E.root||R.root||{},se=V.input||P.Input||tt;return X=x({},X,(o=E.input)!=null?o:R.input),c.jsxs(v.Fragment,{children:[!l&&On,c.jsxs(_e,x({},me,!wt(_e)&&{ownerState:x({},le,me.ownerState)},{ref:n,onClick:Se},re,{className:ke(ge.root,me.className,g,L&&"MuiInputBase-readOnly"),children:[q,c.jsx(Nt.Provider,{value:null,children:c.jsx(se,x({ownerState:le,"aria-invalid":G.error,"aria-describedby":u,autoComplete:i,autoFocus:f,defaultValue:C,disabled:G.disabled,id:d,onAnimationStart:Me,name:w,placeholder:M,readOnly:L,required:G.required,rows:j,value:Z,onKeyDown:b,onKeyUp:I,type:ee},X,!wt(se)&&{as:Ie,ownerState:x({},le,X.ownerState)},{ref:pe,className:ke(ge.input,X.className,L&&"MuiInputBase-readOnly"),onBlur:he,onChange:$e,onFocus:Q}))}),r,B?B(x({},G,{startAdornment:q})):null]}))]})}),pt=kn;function An(e){return we("MuiInput",e)}const En=x({},Ue,ye("MuiInput",["root","underline","input"])),He=En;function jn(e){return we("MuiOutlinedInput",e)}const Ln=x({},Ue,ye("MuiOutlinedInput",["root","notchedOutline","input"])),Ce=Ln;function $n(e){return we("MuiFilledInput",e)}const Nn=x({},Ue,ye("MuiFilledInput",["root","underline","input"])),Pe=Nn,Dn=ln(c.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Un(e){return we("MuiDialogActions",e)}ye("MuiDialogActions",["root","spacing"]);const Fn=["className","disableSpacing"],Bn=e=>{const{classes:t,disableSpacing:n}=e;return Re({root:["root",!n&&"spacing"]},Un,t)},zn=W("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>x({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Wn=v.forwardRef(function(t,n){const o=je({props:t,name:"MuiDialogActions"}),{className:a,disableSpacing:u=!1}=o,i=ae(o,Fn),f=x({},o,{disableSpacing:u}),g=Bn(f);return c.jsx(zn,x({className:ke(g.root,a),ownerState:f,ref:n},i))}),Hn=Wn;function Vn(e){return we("MuiDialogContent",e)}ye("MuiDialogContent",["root","dividers"]);const qn=ye("MuiDialogTitle",["root"]),Gn=qn,Kn=["className","dividers"],Xn=e=>{const{classes:t,dividers:n}=e;return Re({root:["root",n&&"dividers"]},Vn,t)},Jn=W("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>x({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Gn.root} + &`]:{paddingTop:0}})),Qn=v.forwardRef(function(t,n){const o=je({props:t,name:"MuiDialogContent"}),{className:a,dividers:u=!1}=o,i=ae(o,Kn),f=x({},o,{dividers:u}),g=Xn(f);return c.jsx(Jn,x({className:ke(g.root,a),ownerState:f,ref:n},i))}),Yn=Qn,Zn=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],er=e=>{const{classes:t,disableUnderline:n}=e,a=Re({root:["root",!n&&"underline"],input:["input"]},$n,t);return x({},t,a)},tr=W(et,{shouldForwardProp:e=>Le(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Ye(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;const o=e.palette.mode==="light",a=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return x({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u}},[`&.${Pe.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:u},[`&.${Pe.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:f}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(e.vars||e).palette[t.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Pe.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Pe.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Pe.disabled}, .${Pe.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Pe.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&x({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),nr=W(tt,{name:"MuiFilledInput",slot:"Input",overridesResolver:Ze})(({theme:e,ownerState:t})=>x({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Ut=v.forwardRef(function(t,n){var o,a,u,i;const f=je({props:t,name:"MuiFilledInput"}),{components:g={},componentsProps:P,fullWidth:R=!1,inputComponent:C="input",multiline:h=!1,slotProps:l,slots:r={},type:s="text"}=f,d=ae(f,Zn),p=x({},f,{fullWidth:R,inputComponent:C,multiline:h,type:s}),m=er(f),y={root:{ownerState:p},input:{ownerState:p}},S=l??P?ct(y,l??P):y,A=(o=(a=r.root)!=null?a:g.Root)!=null?o:tr,O=(u=(i=r.input)!=null?i:g.Input)!=null?u:nr;return c.jsx(pt,x({slots:{root:A,input:O},componentsProps:S,fullWidth:R,inputComponent:C,multiline:h,ref:n,type:s},d,{classes:m}))});Ut.muiName="Input";const rr=Ut,ir=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],or=e=>{const{classes:t,disableUnderline:n}=e,a=Re({root:["root",!n&&"underline"],input:["input"]},An,t);return x({},t,a)},sr=W(et,{shouldForwardProp:e=>Le(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...Ye(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let o=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(o=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),x({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${He.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${He.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${He.disabled}, .${He.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${He.disabled}:before`]:{borderBottomStyle:"dotted"}})}),ar=W(tt,{name:"MuiInput",slot:"Input",overridesResolver:Ze})({}),Ft=v.forwardRef(function(t,n){var o,a,u,i;const f=je({props:t,name:"MuiInput"}),{disableUnderline:g,components:P={},componentsProps:R,fullWidth:C=!1,inputComponent:h="input",multiline:l=!1,slotProps:r,slots:s={},type:d="text"}=f,p=ae(f,ir),m=or(f),S={root:{ownerState:{disableUnderline:g}}},A=r??R?ct(r??R,S):S,O=(o=(a=s.root)!=null?a:P.Root)!=null?o:sr,w=(u=(i=s.input)!=null?i:P.Input)!=null?u:ar;return c.jsx(pt,x({slots:{root:O,input:w},slotProps:A,fullWidth:C,inputComponent:h,multiline:l,ref:n,type:d},p,{classes:m}))});Ft.muiName="Input";const lr=Ft;function cr(e){return we("MuiNativeSelect",e)}const ur=ye("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ft=ur,dr=["className","disabled","error","IconComponent","inputRef","variant"],pr=e=>{const{classes:t,variant:n,disabled:o,multiple:a,open:u,error:i}=e,f={select:["select",n,o&&"disabled",a&&"multiple",i&&"error"],icon:["icon",`icon${Oe(n)}`,u&&"iconOpen",o&&"disabled"]};return Re(f,cr,t)},Bt=({ownerState:e,theme:t})=>x({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":x({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${ft.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),fr=W("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Le,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${ft.multiple}`]:t.multiple}]}})(Bt),zt=({ownerState:e,theme:t})=>x({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${ft.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),hr=W("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Oe(n.variant)}`],n.open&&t.iconOpen]}})(zt),gr=v.forwardRef(function(t,n){const{className:o,disabled:a,error:u,IconComponent:i,inputRef:f,variant:g="standard"}=t,P=ae(t,dr),R=x({},t,{disabled:a,variant:g,error:u}),C=pr(R);return c.jsxs(v.Fragment,{children:[c.jsx(fr,x({ownerState:R,className:ke(C.select,o),disabled:a,ref:f||n},P)),t.multiple?null:c.jsx(hr,{as:i,ownerState:R,className:C.icon})]})}),mr=gr;var It;const vr=["children","classes","className","label","notched"],br=W("fieldset",{shouldForwardProp:Le})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),yr=W("legend",{shouldForwardProp:Le})(({ownerState:e,theme:t})=>x({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&x({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function Sr(e){const{className:t,label:n,notched:o}=e,a=ae(e,vr),u=n!=null&&n!=="",i=x({},e,{notched:o,withLabel:u});return c.jsx(br,x({"aria-hidden":!0,className:t,ownerState:i},a,{children:c.jsx(yr,{ownerState:i,children:u?c.jsx("span",{children:n}):It||(It=c.jsx("span",{className:"notranslate",children:"​"}))})}))}const xr=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Cr=e=>{const{classes:t}=e,o=Re({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},jn,t);return x({},t,o)},wr=W(et,{shouldForwardProp:e=>Le(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Ye})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return x({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ce.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ce.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ce.focused} .${Ce.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Ce.error} .${Ce.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ce.disabled} .${Ce.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&x({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Rr=W(Sr,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Tr=W(tt,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Ze})(({theme:e,ownerState:t})=>x({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),Wt=v.forwardRef(function(t,n){var o,a,u,i,f;const g=je({props:t,name:"MuiOutlinedInput"}),{components:P={},fullWidth:R=!1,inputComponent:C="input",label:h,multiline:l=!1,notched:r,slots:s={},type:d="text"}=g,p=ae(g,xr),m=Cr(g),y=dt(),S=ut({props:g,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),A=x({},g,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:y,fullWidth:R,hiddenLabel:S.hiddenLabel,multiline:l,size:S.size,type:d}),O=(o=(a=s.root)!=null?a:P.Root)!=null?o:wr,w=(u=(i=s.input)!=null?i:P.Input)!=null?u:Tr;return c.jsx(pt,x({slots:{root:O,input:w},renderSuffix:k=>c.jsx(Rr,{ownerState:A,className:m.notchedOutline,label:h!=null&&h!==""&&S.required?f||(f=c.jsxs(v.Fragment,{children:[h," ","*"]})):h,notched:typeof r<"u"?r:!!(k.startAdornment||k.filled||k.focused)}),fullWidth:R,inputComponent:C,multiline:l,ref:n,type:d},p,{classes:x({},m,{notchedOutline:null})}))});Wt.muiName="Input";const Ir=Wt;function Mr(e){return we("MuiSelect",e)}const Ve=ye("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Mt;const _r=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Pr=W("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Ve.select}`]:t.select},{[`&.${Ve.select}`]:t[n.variant]},{[`&.${Ve.error}`]:t.error},{[`&.${Ve.multiple}`]:t.multiple}]}})(Bt,{[`&.${Ve.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Or=W("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Oe(n.variant)}`],n.open&&t.iconOpen]}})(zt),kr=W("input",{shouldForwardProp:e=>cn(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function _t(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Ar(e){return e==null||typeof e=="string"&&!e.trim()}const Er=e=>{const{classes:t,variant:n,disabled:o,multiple:a,open:u,error:i}=e,f={select:["select",n,o&&"disabled",a&&"multiple",i&&"error"],icon:["icon",`icon${Oe(n)}`,u&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return Re(f,Mr,t)},jr=v.forwardRef(function(t,n){var o;const{"aria-describedby":a,"aria-label":u,autoFocus:i,autoWidth:f,children:g,className:P,defaultOpen:R,defaultValue:C,disabled:h,displayEmpty:l,error:r=!1,IconComponent:s,inputRef:d,labelId:p,MenuProps:m={},multiple:y,name:S,onBlur:A,onChange:O,onClose:w,onFocus:k,onOpen:z,open:H,readOnly:J,renderValue:b,SelectDisplayProps:I={},tabIndex:M,value:L,variant:B="standard"}=t,j=ae(t,_r),[E,V]=Rt({controlled:L,default:C,name:"Select"}),[q,ee]=Rt({controlled:H,default:R,name:"Select"}),te=v.useRef(null),re=v.useRef(null),[Z,ce]=v.useState(null),{current:ne}=v.useRef(H!=null),[Te,pe]=v.useState(),ue=Qe(n,d),fe=v.useCallback(_=>{re.current=_,_&&ce(_)},[]),U=Z==null?void 0:Z.parentNode;v.useImperativeHandle(ue,()=>({focus:()=>{re.current.focus()},node:te.current,value:E}),[E]),v.useEffect(()=>{R&&q&&Z&&!ne&&(pe(f?null:U.clientWidth),re.current.focus())},[Z,f]),v.useEffect(()=>{i&&re.current.focus()},[i]),v.useEffect(()=>{if(!p)return;const _=un(re.current).getElementById(p);if(_){const $=()=>{getSelection().isCollapsed&&re.current.focus()};return _.addEventListener("click",$),()=>{_.removeEventListener("click",$)}}},[p]);const G=(_,$)=>{_?z&&z($):w&&w($),ne||(pe(f?null:U.clientWidth),ee(_))},T=_=>{_.button===0&&(_.preventDefault(),re.current.focus(),G(!0,_))},K=_=>{G(!1,_)},D=v.Children.toArray(g),Q=_=>{const $=D.find(N=>N.props.value===_.target.value);$!==void 0&&(V($.props.value),O&&O(_,$))},he=_=>$=>{let N;if($.currentTarget.hasAttribute("tabindex")){if(y){N=Array.isArray(E)?E.slice():[];const Y=E.indexOf(_.props.value);Y===-1?N.push(_.props.value):N.splice(Y,1)}else N=_.props.value;if(_.props.onClick&&_.props.onClick($),E!==N&&(V(N),O)){const Y=$.nativeEvent||$,de=new Y.constructor(Y.type,Y);Object.defineProperty(de,"target",{writable:!0,value:{value:N,name:S}}),O(de,_)}y||G(!1,$)}},$e=_=>{J||[" ","ArrowUp","ArrowDown","Enter"].indexOf(_.key)!==-1&&(_.preventDefault(),G(!0,_))},Se=Z!==null&&q,Ie=_=>{!Se&&A&&(Object.defineProperty(_,"target",{writable:!0,value:{value:E,name:S}}),A(_))};delete j["aria-invalid"];let X,Me;const le=[];let ge=!1;(Dt({value:E})||l)&&(b?X=b(E):ge=!0);const _e=D.map(_=>{if(!v.isValidElement(_))return null;let $;if(y){if(!Array.isArray(E))throw new Error(jt(2));$=E.some(N=>_t(N,_.props.value)),$&&ge&&le.push(_.props.children)}else $=_t(E,_.props.value),$&&ge&&(Me=_.props.children);return v.cloneElement(_,{"aria-selected":$?"true":"false",onClick:he(_),onKeyUp:N=>{N.key===" "&&N.preventDefault(),_.props.onKeyUp&&_.props.onKeyUp(N)},role:"option",selected:$,value:void 0,"data-value":_.props.value})});ge&&(y?le.length===0?X=null:X=le.reduce((_,$,N)=>(_.push($),N<le.length-1&&_.push(", "),_),[]):X=Me);let me=Te;!f&&ne&&Z&&(me=U.clientWidth);let se;typeof M<"u"?se=M:se=h?null:0;const F=I.id||(S?`mui-component-select-${S}`:void 0),ve=x({},t,{variant:B,value:E,open:Se,error:r}),be=Er(ve),Ne=x({},m.PaperProps,(o=m.slotProps)==null?void 0:o.paper),Be=dn();return c.jsxs(v.Fragment,{children:[c.jsx(Pr,x({ref:fe,tabIndex:se,role:"combobox","aria-controls":Be,"aria-disabled":h?"true":void 0,"aria-expanded":Se?"true":"false","aria-haspopup":"listbox","aria-label":u,"aria-labelledby":[p,F].filter(Boolean).join(" ")||void 0,"aria-describedby":a,onKeyDown:$e,onMouseDown:h||J?null:T,onBlur:Ie,onFocus:k},I,{ownerState:ve,className:ke(I.className,be.select,P),id:F,children:Ar(X)?Mt||(Mt=c.jsx("span",{className:"notranslate",children:"​"})):X})),c.jsx(kr,x({"aria-invalid":r,value:Array.isArray(E)?E.join(","):E,name:S,ref:te,"aria-hidden":!0,onChange:Q,tabIndex:-1,disabled:h,className:be.nativeInput,autoFocus:i,ownerState:ve},j)),c.jsx(Or,{as:s,className:be.icon,ownerState:ve}),c.jsx(pn,x({id:`menu-${S||""}`,anchorEl:U,open:Se,onClose:K,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},m,{MenuListProps:x({"aria-labelledby":p,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:Be},m.MenuListProps),slotProps:x({},m.slotProps,{paper:x({},Ne,{style:x({minWidth:me},Ne!=null?Ne.style:null)})}),children:_e}))]})}),Lr=jr,$r=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Nr=["root"],Dr=e=>{const{classes:t}=e;return t},ht={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Le(e)&&e!=="variant",slot:"Root"},Ur=W(lr,ht)(""),Fr=W(Ir,ht)(""),Br=W(rr,ht)(""),Ht=v.forwardRef(function(t,n){const o=je({name:"MuiSelect",props:t}),{autoWidth:a=!1,children:u,classes:i={},className:f,defaultOpen:g=!1,displayEmpty:P=!1,IconComponent:R=Dn,id:C,input:h,inputProps:l,label:r,labelId:s,MenuProps:d,multiple:p=!1,native:m=!1,onClose:y,onOpen:S,open:A,renderValue:O,SelectDisplayProps:w,variant:k="outlined"}=o,z=ae(o,$r),H=m?mr:Lr,J=dt(),b=ut({props:o,muiFormControl:J,states:["variant","error"]}),I=b.variant||k,M=x({},o,{variant:I,classes:i}),L=Dr(M),B=ae(L,Nr),j=h||{standard:c.jsx(Ur,{ownerState:M}),outlined:c.jsx(Fr,{label:r,ownerState:M}),filled:c.jsx(Br,{ownerState:M})}[I],E=Qe(n,j.ref);return c.jsx(v.Fragment,{children:v.cloneElement(j,x({inputComponent:H,inputProps:x({children:u,error:b.error,IconComponent:R,variant:I,type:void 0,multiple:p},m?{id:C}:{autoWidth:a,defaultOpen:g,displayEmpty:P,labelId:s,MenuProps:d,onClose:y,onOpen:S,open:A,renderValue:O,SelectDisplayProps:x({id:C},w)},l,{classes:l?ct(B,l.classes):B},h?h.props.inputProps:{})},(p&&m||P)&&I==="outlined"?{notched:!0}:{},{ref:E,className:ke(j.props.className,f,L.root)},!h&&{variant:I},z))})});Ht.muiName="Select";const zr=Ht;var gt={},Vt={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.browserSupportsPolyfills=ie.compareTwoStringsUsingDiceCoefficient=ie.commandToRegExp=ie.concatTranscripts=ie.debounce=void 0;var Wr=function(t,n,o){var a;return function(){var u=this,i=arguments,f=function(){a=null,o||t.apply(u,i)},g=o&&!a;clearTimeout(a),a=setTimeout(f,n),g&&t.apply(u,i)}};ie.debounce=Wr;var Hr=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.map(function(a){return a.trim()}).join(" ").trim()};ie.concatTranscripts=Hr;var Vr=/\s*\((.*?)\)\s*/g,qr=/(\(\?:[^)]+\))\?/g,Gr=/(\(\?)?:\w+/g,Kr=/\*/g,Xr=/[-{}[\]+?.,\\^$|#]/g,Jr=function(t){return t instanceof RegExp?new RegExp(t.source,"i"):(t=t.replace(Xr,"\\$&").replace(Vr,"(?:$1)?").replace(Gr,function(n,o){return o?n:"([^\\s]+)"}).replace(Kr,"(.*?)").replace(qr,"\\s*$1?\\s*"),new RegExp("^"+t+"$","i"))};ie.commandToRegExp=Jr;var Qr=function(t,n){if(t=t.replace(/\s+/g,"").toLowerCase(),n=n.replace(/\s+/g,"").toLowerCase(),!t.length&&!n.length)return 1;if(!t.length||!n.length)return 0;if(t===n)return 1;if(t.length===1&&n.length===1||t.length<2||n.length<2)return 0;for(var o=new Map,a=0;a<t.length-1;a++){var u=t.substring(a,a+2),i=o.has(u)?o.get(u)+1:1;o.set(u,i)}for(var f=0,g=0;g<n.length-1;g++){var P=n.substring(g,g+2),R=o.has(P)?o.get(P):0;R>0&&(o.set(P,R-1),f++)}return 2*f/(t.length+n.length-2)};ie.compareTwoStringsUsingDiceCoefficient=Qr;var Yr=function(){return typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0)};ie.browserSupportsPolyfills=Yr;var Fe={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.APPEND_TRANSCRIPT=Ee.CLEAR_TRANSCRIPT=void 0;var Zr="CLEAR_TRANSCRIPT";Ee.CLEAR_TRANSCRIPT=Zr;var ei="APPEND_TRANSCRIPT";Ee.APPEND_TRANSCRIPT=ei;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.appendTranscript=Fe.clearTranscript=void 0;var qt=Ee,ti=function(){return{type:qt.CLEAR_TRANSCRIPT}};Fe.clearTranscript=ti;var ni=function(t,n){return{type:qt.APPEND_TRANSCRIPT,payload:{interimTranscript:t,finalTranscript:n}}};Fe.appendTranscript=ni;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.transcriptReducer=void 0;var Pt=Ee,ri=ie,ii=function(t,n){switch(n.type){case Pt.CLEAR_TRANSCRIPT:return{interimTranscript:"",finalTranscript:""};case Pt.APPEND_TRANSCRIPT:return{interimTranscript:n.payload.interimTranscript,finalTranscript:(0,ri.concatTranscripts)(t.finalTranscript,n.payload.finalTranscript)};default:throw new Error}};nt.transcriptReducer=ii;var Gt={},mt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){return/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"")};e.default=t})(mt);var vt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.isNative=void 0;var t=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),n=function(u){return u===t};e.isNative=n;var o=t;e.default=o})(vt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=a(mt),n=ie,o=vt;function a(C){return C&&C.__esModule?C:{default:C}}function u(C,h,l,r,s,d,p){try{var m=C[d](p),y=m.value}catch(S){l(S);return}m.done?h(y):Promise.resolve(y).then(r,s)}function i(C){return function(){var h=this,l=arguments;return new Promise(function(r,s){var d=C.apply(h,l);function p(y){u(d,r,s,p,m,"next",y)}function m(y){u(d,r,s,p,m,"throw",y)}p(void 0)})}}function f(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}function g(C,h){for(var l=0;l<h.length;l++){var r=h[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(C,r.key,r)}}function P(C,h,l){return h&&g(C.prototype,h),l&&g(C,l),C}var R=function(){function C(h){f(this,C),this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=function(){},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(h),(0,t.default)()&&(this.updateFinalTranscript=(0,n.debounce)(this.updateFinalTranscript,250,!0))}return P(C,[{key:"setSpeechRecognition",value:function(l){var r=!!l&&((0,o.isNative)(l)||(0,n.browserSupportsPolyfills)());r&&(this.disableRecognition(),this.recognition=new l,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(r)}},{key:"subscribe",value:function(l,r){this.subscribers[l]=r}},{key:"unsubscribe",value:function(l){delete this.subscribers[l]}},{key:"emitListeningChange",value:function(l){var r=this;this.listening=l,Object.keys(this.subscribers).forEach(function(s){var d=r.subscribers[s].onListeningChange;d(l)})}},{key:"emitMicrophoneAvailabilityChange",value:function(l){var r=this;this.isMicrophoneAvailable=l,Object.keys(this.subscribers).forEach(function(s){var d=r.subscribers[s].onMicrophoneAvailabilityChange;d(l)})}},{key:"emitTranscriptChange",value:function(l,r){var s=this;Object.keys(this.subscribers).forEach(function(d){var p=s.subscribers[d].onTranscriptChange;p(l,r)})}},{key:"emitClearTranscript",value:function(){var l=this;Object.keys(this.subscribers).forEach(function(r){var s=l.subscribers[r].onClearTranscript;s()})}},{key:"emitBrowserSupportsSpeechRecognitionChange",value:function(l){var r=this;Object.keys(this.subscribers).forEach(function(s){var d=r.subscribers[s],p=d.onBrowserSupportsSpeechRecognitionChange,m=d.onBrowserSupportsContinuousListeningChange;p(l),m(l)})}},{key:"disconnect",value:function(l){if(this.recognition&&this.listening)switch(l){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}},{key:"disableRecognition",value:function(){this.recognition&&(this.recognition.onresult=function(){},this.recognition.onend=function(){},this.recognition.onerror=function(){},this.listening&&this.stopListening())}},{key:"onError",value:function(l){l&&l.error&&l.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}},{key:"onRecognitionDisconnect",value:function(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}},{key:"updateTranscript",value:function(l){var r=l.results,s=l.resultIndex,d=s===void 0?r.length-1:s;this.interimTranscript="",this.finalTranscript="";for(var p=d;p<r.length;++p)r[p].isFinal&&(!(0,t.default)()||r[p][0].confidence>0)?this.updateFinalTranscript(r[p][0].transcript):this.interimTranscript=(0,n.concatTranscripts)(this.interimTranscript,r[p][0].transcript);var m=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(m=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,m||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}},{key:"updateFinalTranscript",value:function(l){this.finalTranscript=(0,n.concatTranscripts)(this.finalTranscript,l)}},{key:"resetTranscript",value:function(){this.disconnect("RESET")}},{key:"startListening",value:function(){var h=i(regeneratorRuntime.mark(function r(){var s,d,p,m,y,S,A=arguments;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=A.length>0&&A[0]!==void 0?A[0]:{},d=s.continuous,p=d===void 0?!1:d,m=s.language,this.recognition){w.next=3;break}return w.abrupt("return");case 3:if(y=p!==this.recognition.continuous,S=m&&m!==this.recognition.lang,!(y||S)){w.next=11;break}if(!this.listening){w.next=9;break}return w.next=9,this.stopListening();case 9:this.recognition.continuous=y?p:this.recognition.continuous,this.recognition.lang=S?m:this.recognition.lang;case 11:if(this.listening){w.next=22;break}return this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript()),w.prev=13,w.next=16,this.start();case 16:this.emitListeningChange(!0),w.next=22;break;case 19:w.prev=19,w.t0=w.catch(13),w.t0 instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1);case 22:case"end":return w.stop()}},r,this,[[13,19]])}));function l(){return h.apply(this,arguments)}return l}()},{key:"abortListening",value:function(){var h=i(regeneratorRuntime.mark(function r(){var s=this;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this.disconnect("ABORT"),this.emitListeningChange(!1),p.next=4,new Promise(function(m){s.onStopListening=m});case 4:case"end":return p.stop()}},r,this)}));function l(){return h.apply(this,arguments)}return l}()},{key:"stopListening",value:function(){var h=i(regeneratorRuntime.mark(function r(){var s=this;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return this.disconnect("STOP"),this.emitListeningChange(!1),p.next=4,new Promise(function(m){s.onStopListening=m});case 4:case"end":return p.stop()}},r,this)}));function l(){return h.apply(this,arguments)}return l}()},{key:"getRecognition",value:function(){return this.recognition}},{key:"start",value:function(){var h=i(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(this.recognition&&!this.listening)){d.next=4;break}return d.next=3,this.recognition.start();case 3:this.listening=!0;case 4:case"end":return d.stop()}},r,this)}));function l(){return h.apply(this,arguments)}return l}()},{key:"stop",value:function(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}},{key:"abort",value:function(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}}]),C}();e.default=R})(Gt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.useSpeechRecognition=void 0;var t=v,n=ie,o=Fe,a=nt,u=g(Gt),i=g(mt),f=g(vt);function g(b){return b&&b.__esModule?b:{default:b}}function P(b,I,M,L,B,j,E){try{var V=b[j](E),q=V.value}catch(ee){M(ee);return}V.done?I(q):Promise.resolve(q).then(L,B)}function R(b){return function(){var I=this,M=arguments;return new Promise(function(L,B){var j=b.apply(I,M);function E(q){P(j,L,B,E,V,"next",q)}function V(q){P(j,L,B,E,V,"throw",q)}E(void 0)})}}function C(b){return r(b)||l(b)||m(b)||h()}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(b){if(typeof Symbol<"u"&&Symbol.iterator in Object(b))return Array.from(b)}function r(b){if(Array.isArray(b))return y(b)}function s(b){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(M){return typeof M}:s=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s(b)}function d(b,I){return A(b)||S(b,I)||m(b,I)||p()}function p(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m(b,I){if(b){if(typeof b=="string")return y(b,I);var M=Object.prototype.toString.call(b).slice(8,-1);if(M==="Object"&&b.constructor&&(M=b.constructor.name),M==="Map"||M==="Set")return Array.from(b);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return y(b,I)}}function y(b,I){(I==null||I>b.length)&&(I=b.length);for(var M=0,L=new Array(I);M<I;M++)L[M]=b[M];return L}function S(b,I){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(b)))){var M=[],L=!0,B=!1,j=void 0;try{for(var E=b[Symbol.iterator](),V;!(L=(V=E.next()).done)&&(M.push(V.value),!(I&&M.length===I));L=!0);}catch(q){B=!0,j=q}finally{try{!L&&E.return!=null&&E.return()}finally{if(B)throw j}}return M}}function A(b){if(Array.isArray(b))return b}var O=!!f.default,w=O&&!(0,i.default)(),k,z=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=I.transcribing,L=M===void 0?!0:M,B=I.clearTranscriptOnListen,j=B===void 0?!0:B,E=I.commands,V=E===void 0?[]:E,q=(0,t.useState)(H.getRecognitionManager()),ee=d(q,1),te=ee[0],re=(0,t.useState)(O),Z=d(re,2),ce=Z[0],ne=Z[1],Te=(0,t.useState)(w),pe=d(Te,2),ue=pe[0],fe=pe[1],U=(0,t.useReducer)(a.transcriptReducer,{interimTranscript:te.interimTranscript,finalTranscript:""}),G=d(U,2),T=G[0],K=T.interimTranscript,D=T.finalTranscript,Q=G[1],he=(0,t.useState)(te.listening),$e=d(he,2),Se=$e[0],Ie=$e[1],X=(0,t.useState)(te.isMicrophoneAvailable),Me=d(X,2),le=Me[0],ge=Me[1],_e=(0,t.useRef)(V);_e.current=V;var me=function(){Q((0,o.clearTranscript)())},se=(0,t.useCallback)(function(){te.resetTranscript(),me()},[te]),F=function(N,Y,de){var xe=s(N)==="object"?N.toString():N,ze=xe.replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),qe=(0,n.compareTwoStringsUsingDiceCoefficient)(ze,Y);return qe>=de?{command:N,commandWithoutSpecials:ze,howSimilar:qe,isFuzzyMatch:!0}:null},ve=function(N,Y){var de=(0,n.commandToRegExp)(N),xe=de.exec(Y);return xe?{command:N,parameters:xe.slice(1)}:null},be=(0,t.useCallback)(function($,N){_e.current.forEach(function(Y){var de=Y.command,xe=Y.callback,ze=Y.matchInterim,qe=ze===void 0?!1:ze,bt=Y.isFuzzyMatch,yt=bt===void 0?!1:bt,St=Y.fuzzyMatchingThreshold,Xt=St===void 0?.8:St,xt=Y.bestMatchOnly,Jt=xt===void 0?!1:xt,Ge=!N&&qe?$.trim():N.trim(),Qt=Array.isArray(de)?de:[de],Ke=Qt.map(function(oe){return yt?F(oe,Ge,Xt):ve(oe,Ge)}).filter(function(oe){return oe});if(yt&&Jt&&Ke.length>=2){Ke.sort(function(oe,it){return it.howSimilar-oe.howSimilar});var rt=Ke[0],Yt=rt.command,Zt=rt.commandWithoutSpecials,en=rt.howSimilar;xe(Zt,Ge,en,{command:Yt,resetTranscript:se})}else Ke.forEach(function(oe){if(oe.isFuzzyMatch){var it=oe.command,tn=oe.commandWithoutSpecials,nn=oe.howSimilar;xe(tn,Ge,nn,{command:it,resetTranscript:se})}else{var rn=oe.command,on=oe.parameters;xe.apply(void 0,C(on).concat([{command:rn,resetTranscript:se}]))}})})},[se]),Ne=(0,t.useCallback)(function($,N){L&&Q((0,o.appendTranscript)($,N)),be($,N)},[be,L]),Be=(0,t.useCallback)(function(){j&&me()},[j]);(0,t.useEffect)(function(){var $=H.counter;H.counter+=1;var N={onListeningChange:Ie,onMicrophoneAvailabilityChange:ge,onTranscriptChange:Ne,onClearTranscript:Be,onBrowserSupportsSpeechRecognitionChange:ne,onBrowserSupportsContinuousListeningChange:fe};return te.subscribe($,N),function(){te.unsubscribe($)}},[L,j,te,Ne,Be]);var _=(0,n.concatTranscripts)(D,K);return{transcript:_,interimTranscript:K,finalTranscript:D,listening:Se,isMicrophoneAvailable:le,resetTranscript:se,browserSupportsSpeechRecognition:ce,browserSupportsContinuousListening:ue}};e.useSpeechRecognition=z;var H={counter:0,applyPolyfill:function(I){k?k.setSpeechRecognition(I):k=new u.default(I);var M=!!I&&(0,n.browserSupportsPolyfills)();O=M,w=M},removePolyfill:function(){k?k.setSpeechRecognition(f.default):k=new u.default(f.default),O=!!f.default,w=O&&!(0,i.default)()},getRecognitionManager:function(){return k||(k=new u.default(f.default)),k},getRecognition:function(){var I=H.getRecognitionManager();return I.getRecognition()},startListening:function(){var b=R(regeneratorRuntime.mark(function M(){var L,B,j,E,V=arguments;return regeneratorRuntime.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return L=V.length>0&&V[0]!==void 0?V[0]:{},B=L.continuous,j=L.language,E=H.getRecognitionManager(),ee.next=4,E.startListening({continuous:B,language:j});case 4:case"end":return ee.stop()}},M)}));function I(){return b.apply(this,arguments)}return I}(),stopListening:function(){var b=R(regeneratorRuntime.mark(function M(){var L;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return L=H.getRecognitionManager(),j.next=3,L.stopListening();case 3:case"end":return j.stop()}},M)}));function I(){return b.apply(this,arguments)}return I}(),abortListening:function(){var b=R(regeneratorRuntime.mark(function M(){var L;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return L=H.getRecognitionManager(),j.next=3,L.abortListening();case 3:case"end":return j.stop()}},M)}));function I(){return b.apply(this,arguments)}return I}(),browserSupportsSpeechRecognition:function(){return O},browserSupportsContinuousListening:function(){return w}},J=H;e.default=J})(Vt);(function(e){function t(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(g){return typeof g}:t=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(i)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useSpeechRecognition",{enumerable:!0,get:function(){return n.useSpeechRecognition}}),e.default=void 0;var n=a(Vt);function o(){if(typeof WeakMap!="function")return null;var i=new WeakMap;return o=function(){return i},i}function a(i){if(i&&i.__esModule)return i;if(i===null||t(i)!=="object"&&typeof i!="function")return{default:i};var f=o();if(f&&f.has(i))return f.get(i);var g={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in i)if(Object.prototype.hasOwnProperty.call(i,R)){var C=P?Object.getOwnPropertyDescriptor(i,R):null;C&&(C.get||C.set)?Object.defineProperty(g,R,C):g[R]=i[R]}return g.default=i,f&&f.set(i,g),g}var u=n.default;e.default=u})(gt);const Ot=Lt(gt);var Kt={exports:{}};(function(e,t){(function(o,a){e.exports=a(v)})(fn,function(n){return function(o){var a={};function u(i){if(a[i])return a[i].exports;var f=a[i]={i,l:!1,exports:{}};return o[i].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=o,u.c=a,u.d=function(i,f,g){u.o(i,f)||Object.defineProperty(i,f,{enumerable:!0,get:g})},u.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},u.t=function(i,f){if(f&1&&(i=u(i)),f&8||f&4&&typeof i=="object"&&i&&i.__esModule)return i;var g=Object.create(null);if(u.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:i}),f&2&&typeof i!="string")for(var P in i)u.d(g,P,(function(R){return i[R]}).bind(null,P));return g},u.n=function(i){var f=i&&i.__esModule?function(){return i.default}:function(){return i};return u.d(f,"a",f),f},u.o=function(i,f){return Object.prototype.hasOwnProperty.call(i,f)},u.p="",u(u.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(o,a,u){u.r(a);var i=u("react"),f=function(){var h=function(l,r){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var p in d)d.hasOwnProperty(p)&&(s[p]=d[p])},h(l,r)};return function(l,r){h(l,r);function s(){this.constructor=l}l.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),g=function(){return g=Object.assign||function(h){for(var l,r=1,s=arguments.length;r<s;r++){l=arguments[r];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(h[d]=l[d])}return h},g.apply(this,arguments)},P=function(h,l){var r={};for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&l.indexOf(s)<0&&(r[s]=h[s]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(h);d<s.length;d++)l.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(h,s[d])&&(r[s[d]]=h[s[d]]);return r};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(l){var r=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return r?new Promise(function(s,d){r.call(navigator,l,s,d)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function R(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var C=function(h){f(l,h);function l(r){var s=h.call(this,r)||this;return s.canvas=null,s.ctx=null,s.requestUserMediaId=0,s.unmounted=!1,s.state={hasUserMedia:!1},s}return l.prototype.componentDidMount=function(){var r=this,s=r.state,d=r.props;if(this.unmounted=!1,!R()){d.onUserMediaError("getUserMedia not supported");return}s.hasUserMedia||this.requestUserMedia(),d.children&&typeof d.children!="function"&&console.warn("children must be a function")},l.prototype.componentDidUpdate=function(r){var s=this.props;if(!R()){s.onUserMediaError("getUserMedia not supported");return}var d=JSON.stringify(r.audioConstraints)!==JSON.stringify(s.audioConstraints),p=JSON.stringify(r.videoConstraints)!==JSON.stringify(s.videoConstraints),m=r.minScreenshotWidth!==s.minScreenshotWidth,y=r.minScreenshotHeight!==s.minScreenshotHeight;(p||m||y)&&(this.canvas=null,this.ctx=null),(d||p)&&(this.stopAndCleanup(),this.requestUserMedia())},l.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},l.stopMediaStream=function(r){r&&(r.getVideoTracks&&r.getAudioTracks?(r.getVideoTracks().map(function(s){r.removeTrack(s),s.stop()}),r.getAudioTracks().map(function(s){r.removeTrack(s),s.stop()})):r.stop())},l.prototype.stopAndCleanup=function(){var r=this.state;r.hasUserMedia&&(l.stopMediaStream(this.stream),r.src&&window.URL.revokeObjectURL(r.src))},l.prototype.getScreenshot=function(r){var s=this,d=s.state,p=s.props;if(!d.hasUserMedia)return null;var m=this.getCanvas(r);return m&&m.toDataURL(p.screenshotFormat,p.screenshotQuality)},l.prototype.getCanvas=function(r){var s=this,d=s.state,p=s.props;if(!this.video||!d.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var m=this.video.videoWidth,y=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var S=m/y;m=p.minScreenshotWidth||this.video.clientWidth,y=m/S,p.minScreenshotHeight&&y<p.minScreenshotHeight&&(y=p.minScreenshotHeight,m=y*S)}this.canvas=document.createElement("canvas"),this.canvas.width=(r==null?void 0:r.width)||m,this.canvas.height=(r==null?void 0:r.height)||y,this.ctx=this.canvas.getContext("2d")}var A=this,O=A.ctx,w=A.canvas;return O&&w&&(w.width=(r==null?void 0:r.width)||w.width,w.height=(r==null?void 0:r.height)||w.height,p.mirrored&&(O.translate(w.width,0),O.scale(-1,1)),O.imageSmoothingEnabled=p.imageSmoothing,O.drawImage(this.video,0,0,(r==null?void 0:r.width)||w.width,(r==null?void 0:r.height)||w.height),p.mirrored&&(O.scale(-1,1),O.translate(-w.width,0))),w},l.prototype.requestUserMedia=function(){var r=this,s=this.props,d=function(y,S){var A={video:typeof S<"u"?S:!0};s.audio&&(A.audio=typeof y<"u"?y:!0),r.requestUserMediaId++;var O=r.requestUserMediaId;navigator.mediaDevices.getUserMedia(A).then(function(w){r.unmounted||O!==r.requestUserMediaId?l.stopMediaStream(w):r.handleUserMedia(null,w)}).catch(function(w){r.handleUserMedia(w)})};if("mediaDevices"in navigator)d(s.audioConstraints,s.videoConstraints);else{var p=function(y){return{optional:[{sourceId:y}]}},m=function(y){var S=y.deviceId;return typeof S=="string"?S:Array.isArray(S)&&S.length>0?S[0]:typeof S=="object"&&S.ideal?S.ideal:null};MediaStreamTrack.getSources(function(y){var S=null,A=null;y.forEach(function(k){k.kind==="audio"?S=k.id:k.kind==="video"&&(A=k.id)});var O=m(s.audioConstraints);O&&(S=O);var w=m(s.videoConstraints);w&&(A=w),d(p(S),p(A))})}},l.prototype.handleUserMedia=function(r,s){var d=this.props;if(r||!s){this.setState({hasUserMedia:!1}),d.onUserMediaError(r);return}this.stream=s;try{this.video&&(this.video.srcObject=s),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(s)})}d.onUserMedia(s)},l.prototype.render=function(){var r=this,s=this,d=s.state,p=s.props,m=p.audio;p.forceScreenshotSourceSize;var y=p.disablePictureInPicture;p.onUserMedia,p.onUserMediaError,p.screenshotFormat,p.screenshotQuality,p.minScreenshotWidth,p.minScreenshotHeight,p.audioConstraints,p.videoConstraints,p.imageSmoothing;var S=p.mirrored,A=p.style,O=A===void 0?{}:A,w=p.children,k=P(p,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),z=S?g(g({},O),{transform:(O.transform||"")+" scaleX(-1)"}):O,H={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",g({autoPlay:!0,disablePictureInPicture:y,src:d.src,muted:!m,playsInline:!0,ref:function(J){r.video=J},style:z},k)),w&&w(H))},l.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},l}(i.Component);a.default=C},react:function(o,a){o.exports=n}}).default})})(Kt);var oi=Kt.exports;const si=Lt(oi),ai=({sx:e,hasSound:t})=>c.jsxs(Ae,{className:["boxContainer",...t?["hasSound"]:[]],sx:e,children:[c.jsx("div",{className:"box box1"}),c.jsx("div",{className:"box box2"}),c.jsx("div",{className:"box box3"}),c.jsx("div",{className:"box box4"}),c.jsx("div",{className:"box box5"}),c.jsx(Ae,{})]}),li=v.createContext(null),st={didCatch:!1,error:null};class ci extends v.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=st}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,o,a=arguments.length,u=new Array(a),i=0;i<a;i++)u[i]=arguments[i];(n=(o=this.props).onReset)===null||n===void 0||n.call(o,{args:u,reason:"imperative-api"}),this.setState(st)}}componentDidCatch(t,n){var o,a;(o=(a=this.props).onError)===null||o===void 0||o.call(a,t,n)}componentDidUpdate(t,n){const{didCatch:o}=this.state,{resetKeys:a}=this.props;if(o&&n.error!==null&&ui(t.resetKeys,a)){var u,i;(u=(i=this.props).onReset)===null||u===void 0||u.call(i,{next:a,prev:t.resetKeys,reason:"keys"}),this.setState(st)}}render(){const{children:t,fallbackRender:n,FallbackComponent:o,fallback:a}=this.props,{didCatch:u,error:i}=this.state;let f=t;if(u){const g={error:i,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")f=n(g);else if(o)f=v.createElement(o,g);else if(a===null||v.isValidElement(a))f=a;else throw i}return v.createElement(li.Provider,{value:{didCatch:u,error:i,resetErrorBoundary:this.resetErrorBoundary}},f)}}function ui(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,o)=>!Object.is(n,t[o]))}var kt={VITE_S3_PUBLIC_FOLDER:"https://blust-images.s3.amazonaws.com/public/q8",VITE_API_URL:"https://api.blust.ai",VITE_WS_URL:"wss://api.blust.ai",VITE_BLUST_DOMAIN:"blust.ai",VITE_BLUST_STUDIO_URL:"https://studio.blust.ai/dashboard",VITE_OAUTH_PATH:"http://accounts.blust.ai/oauth2/v2/auth",VITE_TOOL_ID:"660f1c374f0e650b68697199",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const di=W("main",{shouldForwardProp:e=>!["hide"].includes(e)})(({theme:e,hide:t})=>({flexGrow:1,position:"relative",...!t&&{paddingTop:"64px","& .chat-card-fullscreen":{paddingTop:"64px"}}})),pi=e=>{const{children:t,hide_toolbar:n=!1,studioMode:o=!1,limitHeight:a=!1,service:u,subtitle:i,drawerVariant:f,threadsOpened:g,setThreadsOpened:P,setToolsParent:R,authDialogOpen:C}=e,h={domain:"blust.ai",...((u==null?void 0:u.full_screen_only)||o)&&{onSideBarToggle:P,sidebarInitialState:g,drawerVariant:f},studiopath:kt.VITE_MAINPATH+"/",studio_url:window.location.protocol+"//"+window.location.host+kt.VITE_MAINPATH,authDialogOpen:C};return c.jsx(Ae,{sx:{display:"flex",flexDirection:"column"},...a&&{className:"vh100withFix"},children:c.jsxs(ci,{fallback:c.jsx(hn,{allowReload:!0}),children:[c.jsx(gn,{options:h,subtitle:i,studioMode:!0,setToolsParent:R}),c.jsx(di,{hide:n,...a&&{sx:{height:"100%"}},children:t})]})})},At=()=>{const e=v.useRef(null),t=()=>{const n=["color1","color2","color3","color4","color5"];for(let o=0;o<30;o++){let a=document.createElement("div");a.className="firework "+n[Math.floor(Math.random()*n.length)],e.current.appendChild(a),a.style.display="block",a.style.animationDelay=`${o*.5}s`,a.style.top=`${Math.random()*100}%`,a.style.left=`${Math.random()*100}%`,a.addEventListener("animationend",()=>{a.remove()})}};return v.useEffect(()=>{t()},[]),c.jsx(Ae,{sx:{position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:3,textAlign:"center"},ref:e,children:c.jsx("span",{className:"winner-show",children:"Winner"})})},fi="660f1c374f0e650b68697199",hi=W(Je)({borderRadius:"50%",minWidth:"120px",height:"120px",position:"absolute",marginTop:"-60px",marginLeft:"-60px",zIndex:1,textTransform:"none",top:"50%",left:"100%","@media (max-width:600px)":{top:"100%",left:"50%"}}),Et=W(mn)({borderRadius:"50%",position:"absolute",top:"1em",zIndex:2}),gi=({children:e})=>c.jsxs(Ae,{sx:{fontSize:"40px",position:"absolute",marginTop:"-40px",marginLeft:"-40px",zIndex:1,top:"50%",left:"100%","@media (max-width:600px)":{top:"100%",left:"50%"}},children:[c.jsx($t,{size:"80px",color:"info"}),c.jsx(lt,{variant:"h5",color:"#fff",sx:{position:"absolute",top:"25px",left:"23px"},children:e})]}),vi=()=>{const{client:e}=vn(),[t,n]=v.useState(!1),[o,a]=v.useState(!1),[u,i]=v.useState(),[f,g]=v.useState(),[P,R]=v.useState(),C=v.useRef(null),[h,l]=v.useState(null),[r,s]=v.useState(0),[d,p]=v.useState(),[m,y]=v.useState({}),[S,A]=v.useState([]),[O,w]=v.useState(!1),[k,z]=v.useState([parseInt(localStorage.getItem("user_score")||0),parseInt(localStorage.getItem("assistant_score")||0)]),[H,J]=v.useState(null);let b=["rock","paper","scissors"];const[I,M]=v.useState(null),L=v.useCallback(T=>{var K,D;if(!((K=T==null?void 0:T.target)!=null&&K.tagName&&["LI","li","BUTTON","button"].includes(T.target.tagName))&&!(P&&!t)&&(console.log("capturing...",((D=T==null?void 0:T.target)==null?void 0:D.tagName)||T),C!=null&&C.current)){const Q=C.current.getScreenshot();l(Q);let he=Math.floor(Math.random()*3);M(he),a(!0),console.log("Assistant chose "+b[he]+". Determining the winner..."),pe("Your choice is  "+b[he]+" Detect my choice from image",Q)}},[C,l]),B=T=>{console.log("starting"),T&&T.preventDefault(),n(!0)},j=T=>{T&&T.preventDefault(),n(!1),a(!1),Ot.stopListening()},E=()=>{J(null),a(!1),M(null),l(null)},V=[{command:["* 1 2 3","* One two three","* una dos cuatro","* раз два три","* rock paper scissors shoe","* rock paper scissors show","* rock paper scissors shoot"],callback:L,isFuzzyMatch:!0,bestMatchOnly:!0,fuzzyMatchingThreshold:.2},{command:["* stop"],callback:()=>j(),isFuzzyMatch:!0,fuzzyMatchingThreshold:.5},{command:["* play (again)"],callback:()=>E(),isFuzzyMatch:!0,fuzzyMatchingThreshold:.5}],{listening:q,interimTranscript:ee,isMicrophoneAvailable:te,resetTranscript:re,browserSupportsSpeechRecognition:Z}=gt.useSpeechRecognition({commands:V}),ce=v.useCallback(T=>{var D;let K=T.filter(({kind:Q})=>Q==="videoinput");K!=null&&K.length?(A(K),y((D=K[0])==null?void 0:D.deviceId)):g("Webcamera is required to play this game")},[A]);v.useEffect(()=>{navigator.mediaDevices.enumerateDevices().then(ce)},[ce]),v.useEffect(()=>{Z?e.init({onReady:()=>{console.log("Blust AI Client ready")},onError:T=>g((T==null?void 0:T.error)||(T==null?void 0:T.message)||"Blust AI Client init error")}):g("Your browser doesn't support speech recognition.")},[]);const ne=()=>{s(Math.floor(Math.random()*3)),setTimeout(()=>{ne()},200)},Te=T=>{T.preventDefault(),y(T.target.value)},pe=async(T,K)=>{R(!0);try{g(null),i(null);let D=await e.sendMessage({service:fi,message:T,attachments:[{type:"image",url:K}]});if(D.role==="error"){switch(R(!1),re(),D.status){case"guest_low_funds":i(c.jsxs(c.Fragment,{children:["We're sorry, but you have reached a guest limit for requests. Please ",c.jsx(We,{onClick:()=>w(!0),children:"sign up"}),"."]}));return;case"user_low_funds":i(c.jsxs(c.Fragment,{children:["We're sorry, but you have reached your monthly limit for requests. Please try again next month or consider ",c.jsx(We,{href:"https://blust.ai/dashboard/changeplan",children:"upgrading your plan"})," for more requests."]}));return;default:i("Error: "+D.body)}return}let Q={};try{Q=JSON.parse(D.body)}catch{Q={winner:0,comment:D.body}}Q.winner===1?(J(1),localStorage.setItem("user_score",k[0]+1),z([k[0]+1,k[1]])):Q.winner===2&&(J(2),localStorage.setItem("assistant_score",k[1]+1),z([k[0],k[1]+1])),i(Q.comment)}catch(D){g((D==null?void 0:D.error)||(D==null?void 0:D.message)||"Sending message error")}R(!1),re(),ue(5)},ue=T=>{p(T),T===0?E():setTimeout(()=>ue(T-1),1e3)},fe=()=>{localStorage.setItem("user_score",0),localStorage.setItem("assistant_score",0),z([0,0])},U=()=>{Ot.startListening({continuous:!0}),te||g("Please enable mic access"),console.log("camera ready"),ne()},G=T=>{console.error("Webcam capture error",T),g("Webcam capture error: "+((T==null?void 0:T.error)||(T==null?void 0:T.message)||" device error"))};return c.jsx(pi,{authDialogOpen:O,children:c.jsxs(bn,{maxWidth:"lg",sx:{textAlign:"center",mt:2,display:"flex",flexDirection:"column",minHeight:"100vh"},children:[c.jsx(lt,{variant:"h3",children:"Rock, Paper, Scissors"}),c.jsx(lt,{variant:"h6",children:t?c.jsxs(c.Fragment,{children:["Say ",c.jsx("b",{children:"rock, paper, scissors, shoot"})," and show your choice"]}):"Please allow camera & mic access to play the game."}),f&&c.jsx(ot,{severity:"error",children:f}),c.jsx(Ae,{sx:{flex:1},children:c.jsxs(De,{container:!0,sx:{p:2},onClick:L,children:[c.jsxs(De,{item:!0,xs:12,sm:6,sx:{position:"relative",maxHeight:"100%",border:"1px solid red"},children:[c.jsx("img",{src:"/images/scissors.jpg",width:"100%",style:{display:"block"}}),t&&c.jsxs("div",{style:{height:"100%",width:"100%",overflow:"hidden",position:"absolute",top:0,left:0},children:[c.jsx("div",{style:{height:"100%",width:"100%",position:"absolute",zIndex:1,top:0,left:"50%",transform:"translateX(-50%)",minHeight:"100px"},children:c.jsx(si,{audio:!1,ref:C,screenshotFormat:"image/jpeg",mirrored:!0,onUserMedia:U,onUserMediaError:G,style:{objectFit:"cover",minHeight:"100%"},videoConstraints:{deviceId:m},forceScreenshotSourceSize:!0})}),(S==null?void 0:S.length)>1&&c.jsx(zr,{value:m,id:"device_select",sx:{position:"absolute",zIndex:2,bottom:"2em",right:"2em",maxWidth:"50%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},size:"small",onChange:Te,onClick:T=>T.preventDefault(),color:"info",children:S==null?void 0:S.map((T,K)=>c.jsxs(yn,{value:T.deviceId,onClick:D=>D.preventDefault(),children:[" ",T.label]},K))})]}),t?c.jsx(c.Fragment,{}):c.jsx(hi,{variant:"contained",color:"error",onClick:B,disabled:!!f,children:"START"}),c.jsx(Et,{sx:{left:"1em"},children:k[0]}),q&&c.jsx(ai,{sx:{position:"absolute",bottom:"1em",left:"1em",zIndex:2},hasSound:!!ee})]}),c.jsxs(De,{item:!0,xs:12,sm:6,sx:{border:"1px solid red",position:"relative"},children:[I!==null?c.jsx("img",{src:`/images/${b[I]}.jpg`,width:"100%",style:{display:"block"}}):c.jsx("img",{src:`/images/${t?b[r]:"rock"}.jpg`,width:"100%",style:{display:"block"}}),c.jsx(Et,{sx:{right:"1em"},children:k[1]})]})]})}),t&&c.jsx(Ae,{children:c.jsx(Je,{onClick:j,children:"Stop the game"})}),c.jsxs("footer",{children:[c.jsx(We,{sx:{mx:2},href:"#",onClick:fe,children:"Reset score"}),c.jsx(We,{sx:{mx:2},href:"https://github.com/blustAI/rock-paper-scissors",target:"_blank",children:"GitHub"}),c.jsx(We,{sx:{mx:2},href:"https://discord.gg/4FDAufQ4nT",target:"_blank",children:"Discord"})]}),c.jsxs(Sn,{open:o,maxWidth:"lg",children:[c.jsxs(Yn,{children:[c.jsxs(De,{container:!0,children:[c.jsxs(De,{item:!0,xs:6,sx:{position:"relative"},children:[h&&c.jsx("div",{style:{height:"100%",width:"100%",overflow:"hidden",position:"absolute",top:0,left:0},children:c.jsx("img",{src:h,height:"100%",style:{display:"block"}})}),P&&c.jsx(gi,{children:"VS"}),H===1&&c.jsx(At,{})]}),c.jsxs(De,{item:!0,xs:6,sx:{position:"relative"},children:[I!==null&&c.jsx("img",{src:`/images/${b[I]}.jpg`,width:"100%",style:{display:"block"}}),H===2&&c.jsx(At,{})]})]}),P&&c.jsxs(ot,{severity:"info",icon:!1,children:[" ",c.jsx($t,{color:"info",size:"0.8em"})," Determining the winner..."]}),u&&c.jsxs(ot,{severity:"success",icon:!1,children:[" ",u," "]})]}),c.jsx(Hn,{sx:{justifyContent:"center"},children:!P&&c.jsxs(c.Fragment,{children:[c.jsx(Je,{size:"large",onClick:j,sx:{px:1},children:"Stop the game"}),c.jsxs(Je,{size:"large",color:"error",variant:"contained",onClick:E,children:["Play again ",d]})]})})]})]})})};export{vi as default};
